{
  "timestamp": "20250528_141142",
  "model": "gemma3:4b",
  "iterations": 6,
  "duration_seconds": 282.3931748867035,
  "best_score": 0.4800000000000016,
  "best_template": "好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n",
  "stability_threshold": 0.7,
  "results": {
    "stability_score": 0.8000000000000027,
    "quality_score": 0.0,
    "overall_score": 0.4800000000000016,
    "metrics": {
      "stability_score": 0.8000000000000027,
      "quality_score": 0.0,
      "overall_score": 0.4800000000000016,
      "stability_metrics": {
        "format_consistency": 0.9999999999999997,
        "length_stability": 1.0,
        "key_element_coverage": 0.3333333333333333,
        "semantic_stability": 1.0000000000000142,
        "overall_stability": 0.8000000000000027
      },
      "quality_metrics": {
        "categories": {
          "semantic_similarity": {
            "name": "semantic_similarity",
            "score": 0.0,
            "metrics": {
              "bertscore_f1": {
                "score": 0.0,
                "weight": 1.0,
                "details": {
                  "error": "unhashable type: 'list'"
                }
              }
            }
          },
          "content_coverage": {
            "name": "content_coverage",
            "score": 0.0,
            "metrics": {
              "rouge1": {
                "score": 0.0,
                "weight": 0.3,
                "details": {
                  "error": "'list' object has no attribute 'lower'"
                }
              },
              "rouge2": {
                "score": 0.0,
                "weight": 0.4,
                "details": {
                  "error": "'list' object has no attribute 'lower'"
                }
              },
              "rougeL": {
                "score": 0.0,
                "weight": 0.3,
                "details": {
                  "error": "'list' object has no attribute 'lower'"
                }
              }
            }
          },
          "structure_quality": {
            "name": "structure_quality",
            "score": 0.0,
            "metrics": {
              "section_heading_quality": {
                "score": 0.0,
                "weight": 0.4,
                "details": {
                  "error": "'list' object has no attribute 'split'"
                }
              },
              "paragraph_structure": {
                "score": 0.0,
                "weight": 0.3,
                "details": {
                  "error": "'list' object has no attribute 'split'"
                }
              },
              "list_usage": {
                "score": 0.0,
                "weight": 0.3,
                "details": {
                  "error": "'list' object has no attribute 'split'"
                }
              }
            }
          }
        },
        "overall_score": 0.0
      },
      "generated_samples": [
        "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
        "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
        "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0"
      ]
    }
  },
  "optimization_history": [
    {
      "iteration": 1,
      "stability_score": 0.5956663651967572,
      "quality_score": 0.0,
      "overall_score": 0.3573998191180543,
      "metrics": {
        "stability_score": 0.5956663651967572,
        "quality_score": 0.0,
        "overall_score": 0.3573998191180543,
        "stability_metrics": {
          "format_consistency": 0.9571214973894547,
          "length_stability": 0.5615942977278394,
          "key_element_coverage": 0.3333333333333333,
          "semantic_stability": 0.48105528217176435,
          "overall_stability": 0.5956663651967572
        },
        "quality_metrics": {
          "categories": {
            "semantic_similarity": {
              "name": "semantic_similarity",
              "score": 0.0,
              "metrics": {
                "bertscore_f1": {
                  "score": 0.0,
                  "weight": 1.0,
                  "details": {
                    "error": "unhashable type: 'list'"
                  }
                }
              }
            },
            "content_coverage": {
              "name": "content_coverage",
              "score": 0.0,
              "metrics": {
                "rouge1": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rouge2": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rougeL": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                }
              }
            },
            "structure_quality": {
              "name": "structure_quality",
              "score": 0.0,
              "metrics": {
                "section_heading_quality": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "paragraph_structure": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "list_usage": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                }
              }
            }
          },
          "overall_score": 0.0
        },
        "generated_samples": [
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是針對會議記錄模板進行結構增強後的版本，旨在提供清晰的層次結構和邏輯流：\n\n**會議記錄**\n\n**1. 會議資訊**\n\n*   **會議主題:** {topic}\n*   **會議時間:** {time}\n*   **會議地點:** {location} (如果適用)\n*   **會議類型:** {meeting_type} (例如：例行會議、專案會議、決策會議)\n*   **與會人員:** {participants}\n    *   **主持人:** {chairperson}\n    *   **記錄員:** {recorder}\n    *   **其他與會者:** (列出所有其他與會者)\n\n**2. 會議摘要**\n\n*   **會議目的:** {meeting_objective} (簡述會議的主要目標)\n*   **會議重點:** (簡短概括會議的主要討論內容，一至兩句話)\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {topic_1}**\n    *   **3.1.1. 討論內容:**\n        *   {detailed_point_1}\n        *   {detailed_point_2}\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據等)\n*   **3.2. 議題二: {topic_2}**\n    *   (同上，針對每個議題進行詳細記錄)\n*   **3.n. 議題n: {topic_n}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {decision_1} (明確、具體的決議內容)\n*   **4.2. 決議二:** {decision_2}\n*   **4.n. 決議n:** {decision_n} (依決議數量增加)\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 | 狀態 (例如：未開始、進行中、已完成) |\n|---|---|---|---|---|\n| 1 | {action_item_1} | {due_date_1} | {details_1} |  |\n| 2 | {action_item_2} | {due_date_2} | {details_2} |  |\n| n | {action_item_n} | {due_date_n} | {details_n} |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題等)\n\n---\n\n**說明:**\n\n*   **層次結構:**  使用標題、副標題和表格來組織資訊，方便閱讀和理解。\n*   **邏輯流:**  按照會議流程（例如：介紹、討論、決策、行動）來安排內容。\n*   **格式一致性:**  使用項目符號、表格等格式，保持一致性。\n*   **詳細程度:**  可以根據會議的類型和目標，調整內容的詳細程度。\n*   **可操作性:** 行動項目表格增加了負責人、截止日期和狀態欄位，方便追蹤和管理。\n\n**提示:**\n\n*   在實際使用時，可以根據具體情況調整模板的內容和格式。\n*   鼓勵記錄員在會議中記錄關鍵點和討論結果，並在會後進行整理和完善。\n\n希望這個增強後的模板能幫助您更好地記錄會議！\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是針對會議記錄模板進行結構增強後的版本，旨在提供清晰的層次結構和邏輯流：\n\n**會議記錄**\n\n**1. 會議資訊**\n\n*   **會議主題:** {topic}\n*   **會議時間:** {time}\n*   **會議地點:** {location} (如果適用)\n*   **會議類型:** {meeting_type} (例如：例行會議、專案會議、決策會議)\n*   **與會人員:** {participants}\n    *   **主持人:** {chairperson}\n    *   **記錄員:** {recorder}\n    *   **其他與會者:** (列出所有其他與會者)\n\n**2. 會議摘要**\n\n*   **會議目的:** {meeting_objective} (簡述會議的主要目標)\n*   **會議重點:** (簡短概括會議的主要討論內容，一至兩句話)\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {topic_1}**\n    *   **3.1.1. 討論內容:**\n        *   {detailed_point_1}\n        *   {detailed_point_2}\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據等)\n*   **3.2. 議題二: {topic_2}**\n    *   (同上，針對每個議題進行詳細記錄)\n*   **3.n. 議題n: {topic_n}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {decision_1} (明確、具體的決議內容)\n*   **4.2. 決議二:** {decision_2}\n*   **4.n. 決議n:** {decision_n} (依決議數量增加)\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 | 狀態 (例如：未開始、進行中、已完成) |\n|---|---|---|---|---|\n| 1 | {action_item_1} | {due_date_1} | {details_1} |  |\n| 2 | {action_item_2} | {due_date_2} | {details_2} |  |\n| n | {action_item_n} | {due_date_n} | {details_n} |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題等)\n\n---\n\n**說明:**\n\n*   **層次結構:**  使用標題、副標題和表格來組織資訊，方便閱讀和理解。\n*   **邏輯流:**  按照會議流程（例如：介紹、討論、決策、行動）來安排內容。\n*   **格式一致性:**  使用項目符號、表格等格式，保持一致性。\n*   **詳細程度:**  可以根據會議的類型和目標，調整內容的詳細程度。\n*   **可操作性:** 行動項目表格增加了負責人、截止日期和狀態欄位，方便追蹤和管理。\n\n**提示:**\n\n*   在實際使用時，可以根據具體情況調整模板的內容和格式。\n*   鼓勵記錄員在會議中記錄關鍵點和討論結果，並在會後進行整理和完善。\n\n希望這個增強後的模板能幫助您更好地記錄會議！\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是針對會議記錄模板進行結構增強後的版本，旨在提供清晰的層次結構和邏輯流：\n\n**會議記錄**\n\n**1. 會議資訊**\n\n*   **會議主題:** {topic}\n*   **會議時間:** {time}\n*   **會議地點:** {location} (如果適用)\n*   **會議類型:** {meeting_type} (例如：例行會議、專案會議、決策會議)\n*   **與會人員:** {participants}\n    *   **主持人:** {chairperson}\n    *   **記錄員:** {recorder}\n    *   **其他與會者:** (列出所有其他與會者)\n\n**2. 會議摘要**\n\n*   **會議目的:** {meeting_objective} (簡述會議的主要目標)\n*   **會議重點:** (簡短概括會議的主要討論內容，一至兩句話)\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {topic_1}**\n    *   **3.1.1. 討論內容:**\n        *   {detailed_point_1}\n        *   {detailed_point_2}\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據等)\n*   **3.2. 議題二: {topic_2}**\n    *   (同上，針對每個議題進行詳細記錄)\n*   **3.n. 議題n: {topic_n}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {decision_1} (明確、具體的決議內容)\n*   **4.2. 決議二:** {decision_2}\n*   **4.n. 決議n:** {decision_n} (依決議數量增加)\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 | 狀態 (例如：未開始、進行中、已完成) |\n|---|---|---|---|---|\n| 1 | {action_item_1} | {due_date_1} | {details_1} |  |\n| 2 | {action_item_2} | {due_date_2} | {details_2} |  |\n| n | {action_item_n} | {due_date_n} | {details_n} |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題等)\n\n---\n\n**說明:**\n\n*   **層次結構:**  使用標題、副標題和表格來組織資訊，方便閱讀和理解。\n*   **邏輯流:**  按照會議流程（例如：介紹、討論、決策、行動）來安排內容。\n*   **格式一致性:**  使用項目符號、表格等格式，保持一致性。\n*   **詳細程度:**  可以根據會議的類型和目標，調整內容的詳細程度。\n*   **可操作性:** 行動項目表格增加了負責人、截止日期和狀態欄位，方便追蹤和管理。\n\n**提示:**\n\n*   在實際使用時，可以根據具體情況調整模板的內容和格式。\n*   鼓勵記錄員在會議中記錄關鍵點和討論結果，並在會後進行整理和完善。\n\n希望這個增強後的模板能幫助您更好地記錄會議！\n\n參考:\n# 會議記錄優化與評估系統\n\n## 專案概述\n\n本專案旨在利用大型語言模型（LLM）來自動優化會議記錄，提高其結構化程度、完整性和可讀性。系統支援多種優化策略，並提供全面的評估框架來衡量優化效果。\n\n## 主要功能\n\n- **多策略優化**：支援多種會議記錄優化策略\n- **多模型支援**：可與多種開源和商業語言模型整合\n- **自動化評估**：提供多種評估指標來衡量優化效果\n- **可擴展架構**：易於添加新的優化策略和評估指標\n\n## 快速開始\n\n### 前置需求\n- Python 3.8+\n- Ollama 服務 (用於運行本地模型)\n\n### 安裝步驟\n\n```bash\n# 1. 克隆存儲庫\ngit clone https://github.com/colabbrave/exam08.git\ncd exam08\n\n# 2. 創建並啟動虛擬環境\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# 或\n# .\\venv\\Scripts\\activate  # Windows\n\n# 3. 安裝依賴\npip install -r requirements.txt\n\n# 4. 下載並啟動 Ollama 模型\nollama pull gemma3:4b  # 或其他支援的模型\n```\n\n### 基本用法\n\n```bash\n# 優化會議記錄\n./run_optimization.sh\n\n# 或指定模型\n./run_optimization.sh --model gemma3:4b\n\n# 評估優化結果\npython scripts/evaluate.py --model gemma3_4b\n```\n\n## 專案結構\n\n```\n.\n├── config/                  # 配置文件\n├── data/                    # 數據目錄\n│   ├── reference/           # 參考會議記錄\n│   └── transcript/          # 原始逐字稿\n├── docu/                    # 文檔\n├── logs/                    # 運行日誌\n├── models/                  # 模型文件\n├── prompts/                 # 提示詞模板\n│   ├── base/                # 基礎提示詞\n│   ├── components/          # 提示詞組件\n│   ├── optimized/           # 優化後的提示詞\n│   └── preloaded/           # 預加載的提示詞\n├── results/                 # 結果輸出\n│   ├── evaluation_reports/  # 評估報告\n│   └── optimized/           # 優化後的會議記錄\n└── scripts/                 # 腳本文件\n    ├── evaluate.py          # 評估腳本\n    ├── optimize.py          # 優化腳本\n    ├── model_manager.py     # 模型管理\n    ├── ollama_manager.py    # Ollama 集成\n    └── select_model.py      # 模型選擇\n```\n\n## 評估結果\n\n### 多指標評估系統\n\n我們實現了全面的多指標評估系統，包含以下主要指標：\n\n#### 1. 語義相似度 (權重 50%)\n- **BERTScore F1**：衡量優化前後文本的語義相似度\n- **平均分數**：0.85\n\n#### 2. 內容覆蓋度 (權重 30%)\n- **ROUGE-1**：unigram 層面的覆蓋度\n- **ROUGE-2**：bigram 層面的覆蓋度\n- **ROUGE-L**：最長公共子序列\n- **平均分數**：0.78\n\n#### 3. 結構化程度 (權重 20%)\n- 章節標題質量\n- 段落結構質量\n- 列表使用適當性\n- **平均分數**：0.82\n\n### 模型表現比較\n\n| 模型 | 綜合得分 | 響應時間 | BERTScore | ROUGE-L |\n|------|---------|---------|-----------|---------|\n| gemma3:4b | 0.85 | 45.2s | 0.88 | 0.75 |\n| llama3-8b | 0.82 | 68.7s | 0.86 | 0.73 |\n| mistral-7b | 0.80 | 52.1s | 0.84 | 0.72 |\n\n### 最佳實踐策略排名\n\n1. **補充省略資訊** (0.92)\n   - 提升內容完整性\n   - 自動補全會議中的隱含資訊\n\n2. **明確標註發言者** (0.89)\n   - 提高可讀性\n   - 便於追蹤討論脈絡\n\n3. **結構化摘要** (0.88)\n   - 提升文件結構化程度\n   - 便於快速瀏覽重點\n\n4. **專業術語標準化** (0.86)\n   - 統一專業術語使用\n   - 提高專業性\n\n5. **標準格式模板** (0.85)\n   - 確保格式一致性\n   - 符合企業規範\n\n> **注意**：詳細評估報告請參考 [評估報告目錄](results/evaluation_reports/)\n\n## 貢獻指南\n\n我們歡迎任何形式的貢獻！以下是參與項目的步驟：\n\n1. Fork 本項目\n2. 創建特性分支 (`git checkout -b feature/amazing-feature`)\n3. 提交更改 (`git commit -m 'Add some amazing feature'`)\n4. 推送到分支 (`git push origin feature/amazing-feature`)\n5. 開啟 Pull Request\n\n### 代碼風格\n- 使用 [Black](https://github.com/psf/black) 進行代碼格式化\n- 使用 [Google 風格的 Python 文檔字符串](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)\n\n### 提交信息規範\n請遵循 [Conventional Commits](https://www.conventionalcommits.org/) 規範：\n- feat: 新功能\n- fix: 修復 bug\n- docs: 文檔更新\n- style: 代碼格式\n- refactor: 代碼重構\n- test: 測試相關\n- chore: 構建過程或輔助工具的變動\n\n## 專案進度\n\n### 完成情況\n\n1. **基本架構建立** ✅ 已完成\n   - 專案目錄結構\n   - 基礎優化流程\n   - 多模型支援\n\n2. **評估系統實現** ✅ 已完成\n   - ✅ 基本評估框架\n   - ✅ BERTScore 實現\n   - ✅ ROUGE 實現\n   - ✅ 多指標整合\n   - ✅ 評估報告生成\n   - ✅ 評估報告優化 (改為結構化數據格式)\n\n### 當前階段\n\n3. **提示工程優化** 🚀 進行中\n   - 大模型輔助提示詞優化\n   - 非監督學習優化循環\n   - 自動化評估與反饋\n\n### 後續計劃\n\n4. **效能優化** ⏳ 未開始\n   - 並行處理優化\n   - 快取機制實現\n   - 資源使用監控\n\n5. **系統整合** ⏳ 未開始\n   - API 服務封裝\n   - 自動化部署流程\n   - 監控告警系統\n\n## 系統需求與優化\n\n### 硬體配置\n\n- **裝置**：MacBook Pro (M4 晶片)\n- **CPU**：10 核心 (4 個效能核心 + 6 個節能核心)\n- **記憶體**：16GB 統一記憶體\n- **GPU**：Apple M4 整合式顯示晶片\n\n### 模型配置\n\n- **基礎模型**：`cwchang/llama3-taide-lx-8b-chat-alpha1:latest`\n  - 使用 4-bit 量化載入\n  - 主要用於會議記錄生成\n\n- **優化模型**：`google/gemma-3-12b`\n  - 使用 4-bit 量化載入\n  - 用於提示詞優化和改進\n\n## 提示工程優化架構\n\n### 核心組件\n\n1. **會議上下文感知模組**\n   - 自動識別會議類型和特徵\n   - 分析參與者角色和互動模式\n   - 提取關鍵決策點和行動項目\n\n2. **分層提示詞引擎**\n   - 感知層：理解會議本質特徵\n   - 策略層：選擇最優記錄策略\n   - 執行層：生成結構化會議記錄\n\n3. **動態策略管理器**\n   - 多種會議類型的專用策略\n   - 上下文感知的模板選擇\n   - 實時策略調整機制\n\n### 技術實現\n\n```python\n# 會議上下文分析示例\nclass MeetingAnalyzer:\n    def analyze(self, meeting_data: dict) -> MeetingContext:\n        context = MeetingContext()\n        context.meeting_type = self._classify_meeting_type(meeting_data)\n        context.participants = self._extract_participants(meeting_data)\n        context.decision_density = self._calculate_decision_density(meeting_data)\n        return context\n```\n\n### 實施路線圖\n\n#### 階段一：基礎架構重構 (2週)\n- [ ] 實現會議上下文感知模組\n- [ ] 開發分層提示詞引擎基礎框架\n- [ ] 創建3種基礎會議類型的適配器\n\n#### 階段二：動態策略實現 (3週)\n- [ ] 實現策略管理器\n- [ ] 開發模板組件系統\n- [ ] 整合上下文感知評估\n\n#### 階段三：自適應優化 (3週)\n- [ ] 實現強化學習優化器\n- [ ] 設置在線學習循環\n- [ ] 集成知識圖譜\n\n### 預期效益\n\n- **更智能的會議理解**：超越表面指標，理解會議本質\n- **動態適配能力**：根據會議類型自動調整記錄策略\n- **持續優化**：通過在線學習不斷改進表現\n- **更好的可解釋性**：清晰的決策過程和優化路徑\n\n### 技術棧\n\n- **核心框架**：Python 3.9+\n- **機器學習**：PyTorch, Transformers, bitsandbytes (4-bit 量化)\n- **NLP工具**：sentence-transformers, NLTK\n- **記憶體優化**：accelerate, vLLM (可選)\n- **監控工具**：psutil, GPUtil\n\n### 記憶體優化策略\n\n1. **模型量化**\n   - 使用 4-bit 量化技術\n   - 動態量化權重矩陣\n   - 啟用 Flash Attention 2 (如支援)\n\n2. **批次處理**\n   - 小批次處理輸入數據\n   - 實現記憶體監控\n   - 動態調整批次大小\n\n3. **快取機制**\n   - 使用 LRU 快取優化結果\n   - 實現提示詞模板快取\n   - 特徵向量快取\n\n4. **資源監控**\n   - 即時監控記憶體使用\n   - 動態降級機制\n   - 自動清理未使用的資源\n\n### 開發原則\n\n1. **資源效率**：優先考慮記憶體和計算效率\n2. **漸進式增強**：先實現核心功能，再逐步優化\n3. **可觀察性**：完善的監控和日誌記錄\n4. **優雅降級**：在資源受限時自動調整功能\n\n### 效能基準\n\n| 任務 | 預期記憶體使用 | 預期處理時間 |\n|------|--------------|------------|\n| 模型載入 | ~8GB | 30-60秒 |\n| 提示詞優化 | ~12GB | 5-15秒/提示 |\n| 批次處理 (n=5) | ~14GB | 20-40秒 |\n\n> **注意**：實際數值可能因系統負載和具體輸入而異\n\n### 已知限制\n\n1. **記憶體限制**：\n   - 同時載入多個大型模型可能導致記憶體不足\n   - 建議一次只載入一個模型進行推理\n\n2. **處理時間**：\n   - 複雜提示詞可能需要更長處理時間\n   - 批次處理時延遲會增加\n\n3. **建議的最佳實踐**：\n   - 實現請求佇列系統\n   - 設定處理超時機制\n   - 定期重啟長時間運行的程序以釋放記憶體\n\n## 最近更新\n\n### 2025-05-28 (最新)\n- 重構提示工程優化架構\n- 實現分層提示詞引擎\n- 新增會議上下文感知模組\n- 設計動態策略管理系統\n- 更新實施路線圖\n\n### 2025-05-27\n- 更新 README 文件，改進文檔結構和內容完整性\n- 修復評估階段文件路徑比對問題\n- 優化模型名稱處理邏輯，支援不同格式的模型名稱\n- 改進評估腳本，可選擇性評估特定模型的結果\n- 更新 `run_optimization.sh` 腳本，確保正確傳遞模型參數\n- 改進錯誤處理和日誌記錄\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-27\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 改進模型名稱處理邏輯\n- 優化錯誤處理和重試機制\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-26\n- 實現模型響應時間追蹤\n- 優化模型調用過程中的錯誤處理\n- 改進重試機制，提高穩定性\n\n### 2025-05-25\n- 修復 `time` 模組導入問題\n- 修正 `model_timings` 和 `strategy_timings` 變數作用域問題\n- 更新評估結果和改進策略\n\n## 授權\n\n本項目採用 [MIT 許可證](LICENSE) 授權。"
        ]
      },
      "timestamp": "2025-05-28T14:07:35.828383"
    },
    {
      "iteration": 2,
      "stability_score": 0.6256664719804176,
      "quality_score": 0.0,
      "overall_score": 0.3753998831882505,
      "metrics": {
        "stability_score": 0.6256664719804176,
        "quality_score": 0.0,
        "overall_score": 0.3753998831882505,
        "stability_metrics": {
          "format_consistency": 0.9346185030343687,
          "length_stability": 0.6722565684051954,
          "key_element_coverage": 0.3333333333333333,
          "semantic_stability": 0.5541480369453397,
          "overall_stability": 0.6256664719804176
        },
        "quality_metrics": {
          "categories": {
            "semantic_similarity": {
              "name": "semantic_similarity",
              "score": 0.0,
              "metrics": {
                "bertscore_f1": {
                  "score": 0.0,
                  "weight": 1.0,
                  "details": {
                    "error": "unhashable type: 'list'"
                  }
                }
              }
            },
            "content_coverage": {
              "name": "content_coverage",
              "score": 0.0,
              "metrics": {
                "rouge1": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rouge2": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rougeL": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                }
              }
            },
            "structure_quality": {
              "name": "structure_quality",
              "score": 0.0,
              "metrics": {
                "section_heading_quality": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "paragraph_structure": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "list_usage": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                }
              }
            }
          },
          "overall_score": 0.0
        },
        "generated_samples": [
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是針對您提供的會議記錄模板進行改進後的版本，重點關注準確性、完整性、清晰度和專業性。我將模板進行了優化，使其更易於使用，並添加了一些建議和注意事項：\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {會議時間} (請使用標準時間格式，例如：2023-10-27 14:30 - 15:30)\n*   **會議地點:** {會議地點} (如果適用，請提供完整地址)\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議) - *請明確指定類型以方便後續追蹤*\n*   **與會人員:** {與會人員列表} - *請列出所有與會者姓名及職稱，並提供聯絡方式 (Email/電話)*\n    *   **主持人:** {主持人姓名}\n    *   **記錄員:** {記錄員姓名}\n    *   **其他與會者:** (列出所有其他與會者姓名及職稱)\n\n**2. 會議摘要**\n\n*   **會議目的:** {會議目的} - *請用簡潔明瞭的語言描述會議的主要目標*\n*   **會議重點:** (簡短概括會議的主要討論內容，一至兩句話) - *請務必精確反映會議核心內容*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題一名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {詳細討論點 1} - *請使用具體事實和數據支持*\n        *   {詳細討論點 2} - *請明確指出不同觀點和爭論點*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供連結或附件) - *請確保資料來源可靠，並提供版本資訊*\n*   **3.2. 議題二: {議題二名稱}**\n    *   (同上，針對每個議題進行詳細記錄)\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {決議內容} - *請使用明確、具體的語言，避免含糊不清的措辭*\n*   **4.2. 決議二:** {決議內容}\n*   **4.n. 決議n:** {決議內容} (依決議數量增加)\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n| 2 | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n| n | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題等) - *請明確指出需要誰負責跟進*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄。\n*   **會後審核:**  記錄完成後，主持人或相關人員應審核記錄的準確性和完整性。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\n# 會議記錄優化與評估系統\n\n## 專案概述\n\n本專案旨在利用大型語言模型（LLM）來自動優化會議記錄，提高其結構化程度、完整性和可讀性。系統支援多種優化策略，並提供全面的評估框架來衡量優化效果。\n\n## 主要功能\n\n- **多策略優化**：支援多種會議記錄優化策略\n- **多模型支援**：可與多種開源和商業語言模型整合\n- **自動化評估**：提供多種評估指標來衡量優化效果\n- **可擴展架構**：易於添加新的優化策略和評估指標\n\n## 快速開始\n\n### 前置需求\n- Python 3.8+\n- Ollama 服務 (用於運行本地模型)\n\n### 安裝步驟\n\n```bash\n# 1. 克隆存儲庫\ngit clone https://github.com/colabbrave/exam08.git\ncd exam08\n\n# 2. 創建並啟動虛擬環境\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# 或\n# .\\venv\\Scripts\\activate  # Windows\n\n# 3. 安裝依賴\npip install -r requirements.txt\n\n# 4. 下載並啟動 Ollama 模型\nollama pull gemma3:4b  # 或其他支援的模型\n```\n\n### 基本用法\n\n```bash\n# 優化會議記錄\n./run_optimization.sh\n\n# 或指定模型\n./run_optimization.sh --model gemma3:4b\n\n# 評估優化結果\npython scripts/evaluate.py --model gemma3_4b\n```\n\n## 專案結構\n\n```\n.\n├── config/                  # 配置文件\n├── data/                    # 數據目錄\n│   ├── reference/           # 參考會議記錄\n│   └── transcript/          # 原始逐字稿\n├── docu/                    # 文檔\n├── logs/                    # 運行日誌\n├── models/                  # 模型文件\n├── prompts/                 # 提示詞模板\n│   ├── base/                # 基礎提示詞\n│   ├── components/          # 提示詞組件\n│   ├── optimized/           # 優化後的提示詞\n│   └── preloaded/           # 預加載的提示詞\n├── results/                 # 結果輸出\n│   ├── evaluation_reports/  # 評估報告\n│   └── optimized/           # 優化後的會議記錄\n└── scripts/                 # 腳本文件\n    ├── evaluate.py          # 評估腳本\n    ├── optimize.py          # 優化腳本\n    ├── model_manager.py     # 模型管理\n    ├── ollama_manager.py    # Ollama 集成\n    └── select_model.py      # 模型選擇\n```\n\n## 評估結果\n\n### 多指標評估系統\n\n我們實現了全面的多指標評估系統，包含以下主要指標：\n\n#### 1. 語義相似度 (權重 50%)\n- **BERTScore F1**：衡量優化前後文本的語義相似度\n- **平均分數**：0.85\n\n#### 2. 內容覆蓋度 (權重 30%)\n- **ROUGE-1**：unigram 層面的覆蓋度\n- **ROUGE-2**：bigram 層面的覆蓋度\n- **ROUGE-L**：最長公共子序列\n- **平均分數**：0.78\n\n#### 3. 結構化程度 (權重 20%)\n- 章節標題質量\n- 段落結構質量\n- 列表使用適當性\n- **平均分數**：0.82\n\n### 模型表現比較\n\n| 模型 | 綜合得分 | 響應時間 | BERTScore | ROUGE-L |\n|------|---------|---------|-----------|---------|\n| gemma3:4b | 0.85 | 45.2s | 0.88 | 0.75 |\n| llama3-8b | 0.82 | 68.7s | 0.86 | 0.73 |\n| mistral-7b | 0.80 | 52.1s | 0.84 | 0.72 |\n\n### 最佳實踐策略排名\n\n1. **補充省略資訊** (0.92)\n   - 提升內容完整性\n   - 自動補全會議中的隱含資訊\n\n2. **明確標註發言者** (0.89)\n   - 提高可讀性\n   - 便於追蹤討論脈絡\n\n3. **結構化摘要** (0.88)\n   - 提升文件結構化程度\n   - 便於快速瀏覽重點\n\n4. **專業術語標準化** (0.86)\n   - 統一專業術語使用\n   - 提高專業性\n\n5. **標準格式模板** (0.85)\n   - 確保格式一致性\n   - 符合企業規範\n\n> **注意**：詳細評估報告請參考 [評估報告目錄](results/evaluation_reports/)\n\n## 貢獻指南\n\n我們歡迎任何形式的貢獻！以下是參與項目的步驟：\n\n1. Fork 本項目\n2. 創建特性分支 (`git checkout -b feature/amazing-feature`)\n3. 提交更改 (`git commit -m 'Add some amazing feature'`)\n4. 推送到分支 (`git push origin feature/amazing-feature`)\n5. 開啟 Pull Request\n\n### 代碼風格\n- 使用 [Black](https://github.com/psf/black) 進行代碼格式化\n- 使用 [Google 風格的 Python 文檔字符串](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)\n\n### 提交信息規範\n請遵循 [Conventional Commits](https://www.conventionalcommits.org/) 規範：\n- feat: 新功能\n- fix: 修復 bug\n- docs: 文檔更新\n- style: 代碼格式\n- refactor: 代碼重構\n- test: 測試相關\n- chore: 構建過程或輔助工具的變動\n\n## 專案進度\n\n### 完成情況\n\n1. **基本架構建立** ✅ 已完成\n   - 專案目錄結構\n   - 基礎優化流程\n   - 多模型支援\n\n2. **評估系統實現** ✅ 已完成\n   - ✅ 基本評估框架\n   - ✅ BERTScore 實現\n   - ✅ ROUGE 實現\n   - ✅ 多指標整合\n   - ✅ 評估報告生成\n   - ✅ 評估報告優化 (改為結構化數據格式)\n\n### 當前階段\n\n3. **提示工程優化** 🚀 進行中\n   - 大模型輔助提示詞優化\n   - 非監督學習優化循環\n   - 自動化評估與反饋\n\n### 後續計劃\n\n4. **效能優化** ⏳ 未開始\n   - 並行處理優化\n   - 快取機制實現\n   - 資源使用監控\n\n5. **系統整合** ⏳ 未開始\n   - API 服務封裝\n   - 自動化部署流程\n   - 監控告警系統\n\n## 系統需求與優化\n\n### 硬體配置\n\n- **裝置**：MacBook Pro (M4 晶片)\n- **CPU**：10 核心 (4 個效能核心 + 6 個節能核心)\n- **記憶體**：16GB 統一記憶體\n- **GPU**：Apple M4 整合式顯示晶片\n\n### 模型配置\n\n- **基礎模型**：`cwchang/llama3-taide-lx-8b-chat-alpha1:latest`\n  - 使用 4-bit 量化載入\n  - 主要用於會議記錄生成\n\n- **優化模型**：`google/gemma-3-12b`\n  - 使用 4-bit 量化載入\n  - 用於提示詞優化和改進\n\n## 提示工程優化架構\n\n### 核心組件\n\n1. **會議上下文感知模組**\n   - 自動識別會議類型和特徵\n   - 分析參與者角色和互動模式\n   - 提取關鍵決策點和行動項目\n\n2. **分層提示詞引擎**\n   - 感知層：理解會議本質特徵\n   - 策略層：選擇最優記錄策略\n   - 執行層：生成結構化會議記錄\n\n3. **動態策略管理器**\n   - 多種會議類型的專用策略\n   - 上下文感知的模板選擇\n   - 實時策略調整機制\n\n### 技術實現\n\n```python\n# 會議上下文分析示例\nclass MeetingAnalyzer:\n    def analyze(self, meeting_data: dict) -> MeetingContext:\n        context = MeetingContext()\n        context.meeting_type = self._classify_meeting_type(meeting_data)\n        context.participants = self._extract_participants(meeting_data)\n        context.decision_density = self._calculate_decision_density(meeting_data)\n        return context\n```\n\n### 實施路線圖\n\n#### 階段一：基礎架構重構 (2週)\n- [ ] 實現會議上下文感知模組\n- [ ] 開發分層提示詞引擎基礎框架\n- [ ] 創建3種基礎會議類型的適配器\n\n#### 階段二：動態策略實現 (3週)\n- [ ] 實現策略管理器\n- [ ] 開發模板組件系統\n- [ ] 整合上下文感知評估\n\n#### 階段三：自適應優化 (3週)\n- [ ] 實現強化學習優化器\n- [ ] 設置在線學習循環\n- [ ] 集成知識圖譜\n\n### 預期效益\n\n- **更智能的會議理解**：超越表面指標，理解會議本質\n- **動態適配能力**：根據會議類型自動調整記錄策略\n- **持續優化**：通過在線學習不斷改進表現\n- **更好的可解釋性**：清晰的決策過程和優化路徑\n\n### 技術棧\n\n- **核心框架**：Python 3.9+\n- **機器學習**：PyTorch, Transformers, bitsandbytes (4-bit 量化)\n- **NLP工具**：sentence-transformers, NLTK\n- **記憶體優化**：accelerate, vLLM (可選)\n- **監控工具**：psutil, GPUtil\n\n### 記憶體優化策略\n\n1. **模型量化**\n   - 使用 4-bit 量化技術\n   - 動態量化權重矩陣\n   - 啟用 Flash Attention 2 (如支援)\n\n2. **批次處理**\n   - 小批次處理輸入數據\n   - 實現記憶體監控\n   - 動態調整批次大小\n\n3. **快取機制**\n   - 使用 LRU 快取優化結果\n   - 實現提示詞模板快取\n   - 特徵向量快取\n\n4. **資源監控**\n   - 即時監控記憶體使用\n   - 動態降級機制\n   - 自動清理未使用的資源\n\n### 開發原則\n\n1. **資源效率**：優先考慮記憶體和計算效率\n2. **漸進式增強**：先實現核心功能，再逐步優化\n3. **可觀察性**：完善的監控和日誌記錄\n4. **優雅降級**：在資源受限時自動調整功能\n\n### 效能基準\n\n| 任務 | 預期記憶體使用 | 預期處理時間 |\n|------|--------------|------------|\n| 模型載入 | ~8GB | 30-60秒 |\n| 提示詞優化 | ~12GB | 5-15秒/提示 |\n| 批次處理 (n=5) | ~14GB | 20-40秒 |\n\n> **注意**：實際數值可能因系統負載和具體輸入而異\n\n### 已知限制\n\n1. **記憶體限制**：\n   - 同時載入多個大型模型可能導致記憶體不足\n   - 建議一次只載入一個模型進行推理\n\n2. **處理時間**：\n   - 複雜提示詞可能需要更長處理時間\n   - 批次處理時延遲會增加\n\n3. **建議的最佳實踐**：\n   - 實現請求佇列系統\n   - 設定處理超時機制\n   - 定期重啟長時間運行的程序以釋放記憶體\n\n## 最近更新\n\n### 2025-05-28 (最新)\n- 重構提示工程優化架構\n- 實現分層提示詞引擎\n- 新增會議上下文感知模組\n- 設計動態策略管理系統\n- 更新實施路線圖\n\n### 2025-05-27\n- 更新 README 文件，改進文檔結構和內容完整性\n- 修復評估階段文件路徑比對問題\n- 優化模型名稱處理邏輯，支援不同格式的模型名稱\n- 改進評估腳本，可選擇性評估特定模型的結果\n- 更新 `run_optimization.sh` 腳本，確保正確傳遞模型參數\n- 改進錯誤處理和日誌記錄\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-27\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 改進模型名稱處理邏輯\n- 優化錯誤處理和重試機制\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-26\n- 實現模型響應時間追蹤\n- 優化模型調用過程中的錯誤處理\n- 改進重試機制，提高穩定性\n\n### 2025-05-25\n- 修復 `time` 模組導入問題\n- 修正 `model_timings` 和 `strategy_timings` 變數作用域問題\n- 更新評估結果和改進策略\n\n## 授權\n\n本項目採用 [MIT 許可證](LICENSE) 授權。",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是針對您提供的會議記錄模板進行改進後的版本，重點關注準確性、完整性、清晰度和專業性。我將模板進行了優化，使其更易於使用，並添加了一些建議和注意事項：\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {會議時間} (請使用標準時間格式，例如：2023-10-27 14:30 - 15:30)\n*   **會議地點:** {會議地點} (如果適用，請提供完整地址)\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議) - *請明確指定類型以方便後續追蹤*\n*   **與會人員:** {與會人員列表} - *請列出所有與會者姓名及職稱，並提供聯絡方式 (Email/電話)*\n    *   **主持人:** {主持人姓名}\n    *   **記錄員:** {記錄員姓名}\n    *   **其他與會者:** (列出所有其他與會者姓名及職稱)\n\n**2. 會議摘要**\n\n*   **會議目的:** {會議目的} - *請用簡潔明瞭的語言描述會議的主要目標*\n*   **會議重點:** (簡短概括會議的主要討論內容，一至兩句話) - *請務必精確反映會議核心內容*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題一名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {詳細討論點 1} - *請使用具體事實和數據支持*\n        *   {詳細討論點 2} - *請明確指出不同觀點和爭論點*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供連結或附件) - *請確保資料來源可靠，並提供版本資訊*\n*   **3.2. 議題二: {議題二名稱}**\n    *   (同上，針對每個議題進行詳細記錄)\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {決議內容} - *請使用明確、具體的語言，避免含糊不清的措辭*\n*   **4.2. 決議二:** {決議內容}\n*   **4.n. 決議n:** {決議內容} (依決議數量增加)\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n| 2 | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n| n | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題等) - *請明確指出需要誰負責跟進*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄。\n*   **會後審核:**  記錄完成後，主持人或相關人員應審核記錄的準確性和完整性。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是針對您提供的會議記錄模板進行改進後的版本，重點關注準確性、完整性、清晰度和專業性。我將模板進行了優化，使其更易於使用，並添加了一些建議和注意事項：\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {會議時間} (請使用標準時間格式，例如：2023-10-27 14:30 - 15:30)\n*   **會議地點:** {會議地點} (如果適用，請提供完整地址)\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議) - *請明確指定類型以方便後續追蹤*\n*   **與會人員:** {與會人員列表} - *請列出所有與會者姓名及職稱，並提供聯絡方式 (Email/電話)*\n    *   **主持人:** {主持人姓名}\n    *   **記錄員:** {記錄員姓名}\n    *   **其他與會者:** (列出所有其他與會者姓名及職稱)\n\n**2. 會議摘要**\n\n*   **會議目的:** {會議目的} - *請用簡潔明瞭的語言描述會議的主要目標*\n*   **會議重點:** (簡短概括會議的主要討論內容，一至兩句話) - *請務必精確反映會議核心內容*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題一名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {詳細討論點 1} - *請使用具體事實和數據支持*\n        *   {詳細討論點 2} - *請明確指出不同觀點和爭論點*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供連結或附件) - *請確保資料來源可靠，並提供版本資訊*\n*   **3.2. 議題二: {議題二名稱}**\n    *   (同上，針對每個議題進行詳細記錄)\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {決議內容} - *請使用明確、具體的語言，避免含糊不清的措辭*\n*   **4.2. 決議二:** {決議內容}\n*   **4.n. 決議n:** {決議內容} (依決議數量增加)\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n| 2 | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n| n | {負責人姓名} | {截止日期} | {詳細說明，包括所需資源和步驟} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題等) - *請明確指出需要誰負責跟進*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄。\n*   **會後審核:**  記錄完成後，主持人或相關人員應審核記錄的準確性和完整性。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\n# 會議記錄優化與評估系統\n\n## 專案概述\n\n本專案旨在利用大型語言模型（LLM）來自動優化會議記錄，提高其結構化程度、完整性和可讀性。系統支援多種優化策略，並提供全面的評估框架來衡量優化效果。\n\n## 主要功能\n\n- **多策略優化**：支援多種會議記錄優化策略\n- **多模型支援**：可與多種開源和商業語言模型整合\n- **自動化評估**：提供多種評估指標來衡量優化效果\n- **可擴展架構**：易於添加新的優化策略和評估指標\n\n## 快速開始\n\n### 前置需求\n- Python 3.8+\n- Ollama 服務 (用於運行本地模型)\n\n### 安裝步驟\n\n```bash\n# 1. 克隆存儲庫\ngit clone https://github.com/colabbrave/exam08.git\ncd exam08\n\n# 2. 創建並啟動虛擬環境\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# 或\n# .\\venv\\Scripts\\activate  # Windows\n\n# 3. 安裝依賴\npip install -r requirements.txt\n\n# 4. 下載並啟動 Ollama 模型\nollama pull gemma3:4b  # 或其他支援的模型\n```\n\n### 基本用法\n\n```bash\n# 優化會議記錄\n./run_optimization.sh\n\n# 或指定模型\n./run_optimization.sh --model gemma3:4b\n\n# 評估優化結果\npython scripts/evaluate.py --model gemma3_4b\n```\n\n## 專案結構\n\n```\n.\n├── config/                  # 配置文件\n├── data/                    # 數據目錄\n│   ├── reference/           # 參考會議記錄\n│   └── transcript/          # 原始逐字稿\n├── docu/                    # 文檔\n├── logs/                    # 運行日誌\n├── models/                  # 模型文件\n├── prompts/                 # 提示詞模板\n│   ├── base/                # 基礎提示詞\n│   ├── components/          # 提示詞組件\n│   ├── optimized/           # 優化後的提示詞\n│   └── preloaded/           # 預加載的提示詞\n├── results/                 # 結果輸出\n│   ├── evaluation_reports/  # 評估報告\n│   └── optimized/           # 優化後的會議記錄\n└── scripts/                 # 腳本文件\n    ├── evaluate.py          # 評估腳本\n    ├── optimize.py          # 優化腳本\n    ├── model_manager.py     # 模型管理\n    ├── ollama_manager.py    # Ollama 集成\n    └── select_model.py      # 模型選擇\n```\n\n## 評估結果\n\n### 多指標評估系統\n\n我們實現了全面的多指標評估系統，包含以下主要指標：\n\n#### 1. 語義相似度 (權重 50%)\n- **BERTScore F1**：衡量優化前後文本的語義相似度\n- **平均分數**：0.85\n\n#### 2. 內容覆蓋度 (權重 30%)\n- **ROUGE-1**：unigram 層面的覆蓋度\n- **ROUGE-2**：bigram 層面的覆蓋度\n- **ROUGE-L**：最長公共子序列\n- **平均分數**：0.78\n\n#### 3. 結構化程度 (權重 20%)\n- 章節標題質量\n- 段落結構質量\n- 列表使用適當性\n- **平均分數**：0.82\n\n### 模型表現比較\n\n| 模型 | 綜合得分 | 響應時間 | BERTScore | ROUGE-L |\n|------|---------|---------|-----------|---------|\n| gemma3:4b | 0.85 | 45.2s | 0.88 | 0.75 |\n| llama3-8b | 0.82 | 68.7s | 0.86 | 0.73 |\n| mistral-7b | 0.80 | 52.1s | 0.84 | 0.72 |\n\n### 最佳實踐策略排名\n\n1. **補充省略資訊** (0.92)\n   - 提升內容完整性\n   - 自動補全會議中的隱含資訊\n\n2. **明確標註發言者** (0.89)\n   - 提高可讀性\n   - 便於追蹤討論脈絡\n\n3. **結構化摘要** (0.88)\n   - 提升文件結構化程度\n   - 便於快速瀏覽重點\n\n4. **專業術語標準化** (0.86)\n   - 統一專業術語使用\n   - 提高專業性\n\n5. **標準格式模板** (0.85)\n   - 確保格式一致性\n   - 符合企業規範\n\n> **注意**：詳細評估報告請參考 [評估報告目錄](results/evaluation_reports/)\n\n## 貢獻指南\n\n我們歡迎任何形式的貢獻！以下是參與項目的步驟：\n\n1. Fork 本項目\n2. 創建特性分支 (`git checkout -b feature/amazing-feature`)\n3. 提交更改 (`git commit -m 'Add some amazing feature'`)\n4. 推送到分支 (`git push origin feature/amazing-feature`)\n5. 開啟 Pull Request\n\n### 代碼風格\n- 使用 [Black](https://github.com/psf/black) 進行代碼格式化\n- 使用 [Google 風格的 Python 文檔字符串](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)\n\n### 提交信息規範\n請遵循 [Conventional Commits](https://www.conventionalcommits.org/) 規範：\n- feat: 新功能\n- fix: 修復 bug\n- docs: 文檔更新\n- style: 代碼格式\n- refactor: 代碼重構\n- test: 測試相關\n- chore: 構建過程或輔助工具的變動\n\n## 專案進度\n\n### 完成情況\n\n1. **基本架構建立** ✅ 已完成\n   - 專案目錄結構\n   - 基礎優化流程\n   - 多模型支援\n\n2. **評估系統實現** ✅ 已完成\n   - ✅ 基本評估框架\n   - ✅ BERTScore 實現\n   - ✅ ROUGE 實現\n   - ✅ 多指標整合\n   - ✅ 評估報告生成\n   - ✅ 評估報告優化 (改為結構化數據格式)\n\n### 當前階段\n\n3. **提示工程優化** 🚀 進行中\n   - 大模型輔助提示詞優化\n   - 非監督學習優化循環\n   - 自動化評估與反饋\n\n### 後續計劃\n\n4. **效能優化** ⏳ 未開始\n   - 並行處理優化\n   - 快取機制實現\n   - 資源使用監控\n\n5. **系統整合** ⏳ 未開始\n   - API 服務封裝\n   - 自動化部署流程\n   - 監控告警系統\n\n## 系統需求與優化\n\n### 硬體配置\n\n- **裝置**：MacBook Pro (M4 晶片)\n- **CPU**：10 核心 (4 個效能核心 + 6 個節能核心)\n- **記憶體**：16GB 統一記憶體\n- **GPU**：Apple M4 整合式顯示晶片\n\n### 模型配置\n\n- **基礎模型**：`cwchang/llama3-taide-lx-8b-chat-alpha1:latest`\n  - 使用 4-bit 量化載入\n  - 主要用於會議記錄生成\n\n- **優化模型**：`google/gemma-3-12b`\n  - 使用 4-bit 量化載入\n  - 用於提示詞優化和改進\n\n## 提示工程優化架構\n\n### 核心組件\n\n1. **會議上下文感知模組**\n   - 自動識別會議類型和特徵\n   - 分析參與者角色和互動模式\n   - 提取關鍵決策點和行動項目\n\n2. **分層提示詞引擎**\n   - 感知層：理解會議本質特徵\n   - 策略層：選擇最優記錄策略\n   - 執行層：生成結構化會議記錄\n\n3. **動態策略管理器**\n   - 多種會議類型的專用策略\n   - 上下文感知的模板選擇\n   - 實時策略調整機制\n\n### 技術實現\n\n```python\n# 會議上下文分析示例\nclass MeetingAnalyzer:\n    def analyze(self, meeting_data: dict) -> MeetingContext:\n        context = MeetingContext()\n        context.meeting_type = self._classify_meeting_type(meeting_data)\n        context.participants = self._extract_participants(meeting_data)\n        context.decision_density = self._calculate_decision_density(meeting_data)\n        return context\n```\n\n### 實施路線圖\n\n#### 階段一：基礎架構重構 (2週)\n- [ ] 實現會議上下文感知模組\n- [ ] 開發分層提示詞引擎基礎框架\n- [ ] 創建3種基礎會議類型的適配器\n\n#### 階段二：動態策略實現 (3週)\n- [ ] 實現策略管理器\n- [ ] 開發模板組件系統\n- [ ] 整合上下文感知評估\n\n#### 階段三：自適應優化 (3週)\n- [ ] 實現強化學習優化器\n- [ ] 設置在線學習循環\n- [ ] 集成知識圖譜\n\n### 預期效益\n\n- **更智能的會議理解**：超越表面指標，理解會議本質\n- **動態適配能力**：根據會議類型自動調整記錄策略\n- **持續優化**：通過在線學習不斷改進表現\n- **更好的可解釋性**：清晰的決策過程和優化路徑\n\n### 技術棧\n\n- **核心框架**：Python 3.9+\n- **機器學習**：PyTorch, Transformers, bitsandbytes (4-bit 量化)\n- **NLP工具**：sentence-transformers, NLTK\n- **記憶體優化**：accelerate, vLLM (可選)\n- **監控工具**：psutil, GPUtil\n\n### 記憶體優化策略\n\n1. **模型量化**\n   - 使用 4-bit 量化技術\n   - 動態量化權重矩陣\n   - 啟用 Flash Attention 2 (如支援)\n\n2. **批次處理**\n   - 小批次處理輸入數據\n   - 實現記憶體監控\n   - 動態調整批次大小\n\n3. **快取機制**\n   - 使用 LRU 快取優化結果\n   - 實現提示詞模板快取\n   - 特徵向量快取\n\n4. **資源監控**\n   - 即時監控記憶體使用\n   - 動態降級機制\n   - 自動清理未使用的資源\n\n### 開發原則\n\n1. **資源效率**：優先考慮記憶體和計算效率\n2. **漸進式增強**：先實現核心功能，再逐步優化\n3. **可觀察性**：完善的監控和日誌記錄\n4. **優雅降級**：在資源受限時自動調整功能\n\n### 效能基準\n\n| 任務 | 預期記憶體使用 | 預期處理時間 |\n|------|--------------|------------|\n| 模型載入 | ~8GB | 30-60秒 |\n| 提示詞優化 | ~12GB | 5-15秒/提示 |\n| 批次處理 (n=5) | ~14GB | 20-40秒 |\n\n> **注意**：實際數值可能因系統負載和具體輸入而異\n\n### 已知限制\n\n1. **記憶體限制**：\n   - 同時載入多個大型模型可能導致記憶體不足\n   - 建議一次只載入一個模型進行推理\n\n2. **處理時間**：\n   - 複雜提示詞可能需要更長處理時間\n   - 批次處理時延遲會增加\n\n3. **建議的最佳實踐**：\n   - 實現請求佇列系統\n   - 設定處理超時機制\n   - 定期重啟長時間運行的程序以釋放記憶體\n\n## 最近更新\n\n### 2025-05-28 (最新)\n- 重構提示工程優化架構\n- 實現分層提示詞引擎\n- 新增會議上下文感知模組\n- 設計動態策略管理系統\n- 更新實施路線圖\n\n### 2025-05-27\n- 更新 README 文件，改進文檔結構和內容完整性\n- 修復評估階段文件路徑比對問題\n- 優化模型名稱處理邏輯，支援不同格式的模型名稱\n- 改進評估腳本，可選擇性評估特定模型的結果\n- 更新 `run_optimization.sh` 腳本，確保正確傳遞模型參數\n- 改進錯誤處理和日誌記錄\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-27\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 改進模型名稱處理邏輯\n- 優化錯誤處理和重試機制\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-26\n- 實現模型響應時間追蹤\n- 優化模型調用過程中的錯誤處理\n- 改進重試機制，提高穩定性\n\n### 2025-05-25\n- 修復 `time` 模組導入問題\n- 修正 `model_timings` 和 `strategy_timings` 變數作用域問題\n- 更新評估結果和改進策略\n\n## 授權\n\n本項目採用 [MIT 許可證](LICENSE) 授權。"
        ]
      },
      "timestamp": "2025-05-28T14:08:13.888443"
    },
    {
      "iteration": 3,
      "stability_score": 0.8000000000000027,
      "quality_score": 0.0,
      "overall_score": 0.4800000000000016,
      "metrics": {
        "stability_score": 0.8000000000000027,
        "quality_score": 0.0,
        "overall_score": 0.4800000000000016,
        "stability_metrics": {
          "format_consistency": 0.9999999999999997,
          "length_stability": 1.0,
          "key_element_coverage": 0.3333333333333333,
          "semantic_stability": 1.0000000000000142,
          "overall_stability": 0.8000000000000027
        },
        "quality_metrics": {
          "categories": {
            "semantic_similarity": {
              "name": "semantic_similarity",
              "score": 0.0,
              "metrics": {
                "bertscore_f1": {
                  "score": 0.0,
                  "weight": 1.0,
                  "details": {
                    "error": "unhashable type: 'list'"
                  }
                }
              }
            },
            "content_coverage": {
              "name": "content_coverage",
              "score": 0.0,
              "metrics": {
                "rouge1": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rouge2": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rougeL": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                }
              }
            },
            "structure_quality": {
              "name": "structure_quality",
              "score": 0.0,
              "metrics": {
                "section_heading_quality": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "paragraph_structure": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "list_usage": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                }
              }
            }
          },
          "overall_score": 0.0
        },
        "generated_samples": [
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性。\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0"
        ]
      },
      "timestamp": "2025-05-28T14:08:58.940122"
    },
    {
      "iteration": 4,
      "stability_score": 0.6502162347790226,
      "quality_score": 0.0,
      "overall_score": 0.39012974086741353,
      "metrics": {
        "stability_score": 0.6502162347790226,
        "quality_score": 0.0,
        "overall_score": 0.39012974086741353,
        "stability_metrics": {
          "format_consistency": 0.9507763132899602,
          "length_stability": 0.6917911324142172,
          "key_element_coverage": 0.3333333333333333,
          "semantic_stability": 0.6331255715459553,
          "overall_stability": 0.6502162347790226
        },
        "quality_metrics": {
          "categories": {
            "semantic_similarity": {
              "name": "semantic_similarity",
              "score": 0.0,
              "metrics": {
                "bertscore_f1": {
                  "score": 0.0,
                  "weight": 1.0,
                  "details": {
                    "error": "unhashable type: 'list'"
                  }
                }
              }
            },
            "content_coverage": {
              "name": "content_coverage",
              "score": 0.0,
              "metrics": {
                "rouge1": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rouge2": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rougeL": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                }
              }
            },
            "structure_quality": {
              "name": "structure_quality",
              "score": 0.0,
              "metrics": {
                "section_heading_quality": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "paragraph_structure": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "list_usage": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                }
              }
            }
          },
          "overall_score": 0.0
        },
        "generated_samples": [
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性：\n\n---\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n---\n\n**額外建議:**\n\n*   **使用標籤/關鍵字:**  在會議記錄中加入標籤或關鍵字，方便日後搜尋和篩選。\n*   **圖表/視覺化:**  如果會議討論涉及數據或圖表，可以在會議記錄中加入相關圖表，以提高可讀性。\n*   **會議記錄分享:**  會議記錄應及時分享給與會者，並提供追蹤機制。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n參考:\n# 會議記錄優化與評估系統\n\n## 專案概述\n\n本專案旨在利用大型語言模型（LLM）來自動優化會議記錄，提高其結構化程度、完整性和可讀性。系統支援多種優化策略，並提供全面的評估框架來衡量優化效果。\n\n## 主要功能\n\n- **多策略優化**：支援多種會議記錄優化策略\n- **多模型支援**：可與多種開源和商業語言模型整合\n- **自動化評估**：提供多種評估指標來衡量優化效果\n- **可擴展架構**：易於添加新的優化策略和評估指標\n\n## 快速開始\n\n### 前置需求\n- Python 3.8+\n- Ollama 服務 (用於運行本地模型)\n\n### 安裝步驟\n\n```bash\n# 1. 克隆存儲庫\ngit clone https://github.com/colabbrave/exam08.git\ncd exam08\n\n# 2. 創建並啟動虛擬環境\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# 或\n# .\\venv\\Scripts\\activate  # Windows\n\n# 3. 安裝依賴\npip install -r requirements.txt\n\n# 4. 下載並啟動 Ollama 模型\nollama pull gemma3:4b  # 或其他支援的模型\n```\n\n### 基本用法\n\n```bash\n# 優化會議記錄\n./run_optimization.sh\n\n# 或指定模型\n./run_optimization.sh --model gemma3:4b\n\n# 評估優化結果\npython scripts/evaluate.py --model gemma3_4b\n```\n\n## 專案結構\n\n```\n.\n├── config/                  # 配置文件\n├── data/                    # 數據目錄\n│   ├── reference/           # 參考會議記錄\n│   └── transcript/          # 原始逐字稿\n├── docu/                    # 文檔\n├── logs/                    # 運行日誌\n├── models/                  # 模型文件\n├── prompts/                 # 提示詞模板\n│   ├── base/                # 基礎提示詞\n│   ├── components/          # 提示詞組件\n│   ├── optimized/           # 優化後的提示詞\n│   └── preloaded/           # 預加載的提示詞\n├── results/                 # 結果輸出\n│   ├── evaluation_reports/  # 評估報告\n│   └── optimized/           # 優化後的會議記錄\n└── scripts/                 # 腳本文件\n    ├── evaluate.py          # 評估腳本\n    ├── optimize.py          # 優化腳本\n    ├── model_manager.py     # 模型管理\n    ├── ollama_manager.py    # Ollama 集成\n    └── select_model.py      # 模型選擇\n```\n\n## 評估結果\n\n### 多指標評估系統\n\n我們實現了全面的多指標評估系統，包含以下主要指標：\n\n#### 1. 語義相似度 (權重 50%)\n- **BERTScore F1**：衡量優化前後文本的語義相似度\n- **平均分數**：0.85\n\n#### 2. 內容覆蓋度 (權重 30%)\n- **ROUGE-1**：unigram 層面的覆蓋度\n- **ROUGE-2**：bigram 層面的覆蓋度\n- **ROUGE-L**：最長公共子序列\n- **平均分數**：0.78\n\n#### 3. 結構化程度 (權重 20%)\n- 章節標題質量\n- 段落結構質量\n- 列表使用適當性\n- **平均分數**：0.82\n\n### 模型表現比較\n\n| 模型 | 綜合得分 | 響應時間 | BERTScore | ROUGE-L |\n|------|---------|---------|-----------|---------|\n| gemma3:4b | 0.85 | 45.2s | 0.88 | 0.75 |\n| llama3-8b | 0.82 | 68.7s | 0.86 | 0.73 |\n| mistral-7b | 0.80 | 52.1s | 0.84 | 0.72 |\n\n### 最佳實踐策略排名\n\n1. **補充省略資訊** (0.92)\n   - 提升內容完整性\n   - 自動補全會議中的隱含資訊\n\n2. **明確標註發言者** (0.89)\n   - 提高可讀性\n   - 便於追蹤討論脈絡\n\n3. **結構化摘要** (0.88)\n   - 提升文件結構化程度\n   - 便於快速瀏覽重點\n\n4. **專業術語標準化** (0.86)\n   - 統一專業術語使用\n   - 提高專業性\n\n5. **標準格式模板** (0.85)\n   - 確保格式一致性\n   - 符合企業規範\n\n> **注意**：詳細評估報告請參考 [評估報告目錄](results/evaluation_reports/)\n\n## 貢獻指南\n\n我們歡迎任何形式的貢獻！以下是參與項目的步驟：\n\n1. Fork 本項目\n2. 創建特性分支 (`git checkout -b feature/amazing-feature`)\n3. 提交更改 (`git commit -m 'Add some amazing feature'`)\n4. 推送到分支 (`git push origin feature/amazing-feature`)\n5. 開啟 Pull Request\n\n### 代碼風格\n- 使用 [Black](https://github.com/psf/black) 進行代碼格式化\n- 使用 [Google 風格的 Python 文檔字符串](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)\n\n### 提交信息規範\n請遵循 [Conventional Commits](https://www.conventionalcommits.org/) 規範：\n- feat: 新功能\n- fix: 修復 bug\n- docs: 文檔更新\n- style: 代碼格式\n- refactor: 代碼重構\n- test: 測試相關\n- chore: 構建過程或輔助工具的變動\n\n## 專案進度\n\n### 完成情況\n\n1. **基本架構建立** ✅ 已完成\n   - 專案目錄結構\n   - 基礎優化流程\n   - 多模型支援\n\n2. **評估系統實現** ✅ 已完成\n   - ✅ 基本評估框架\n   - ✅ BERTScore 實現\n   - ✅ ROUGE 實現\n   - ✅ 多指標整合\n   - ✅ 評估報告生成\n   - ✅ 評估報告優化 (改為結構化數據格式)\n\n### 當前階段\n\n3. **提示工程優化** 🚀 進行中\n   - 大模型輔助提示詞優化\n   - 非監督學習優化循環\n   - 自動化評估與反饋\n\n### 後續計劃\n\n4. **效能優化** ⏳ 未開始\n   - 並行處理優化\n   - 快取機制實現\n   - 資源使用監控\n\n5. **系統整合** ⏳ 未開始\n   - API 服務封裝\n   - 自動化部署流程\n   - 監控告警系統\n\n## 系統需求與優化\n\n### 硬體配置\n\n- **裝置**：MacBook Pro (M4 晶片)\n- **CPU**：10 核心 (4 個效能核心 + 6 個節能核心)\n- **記憶體**：16GB 統一記憶體\n- **GPU**：Apple M4 整合式顯示晶片\n\n### 模型配置\n\n- **基礎模型**：`cwchang/llama3-taide-lx-8b-chat-alpha1:latest`\n  - 使用 4-bit 量化載入\n  - 主要用於會議記錄生成\n\n- **優化模型**：`google/gemma-3-12b`\n  - 使用 4-bit 量化載入\n  - 用於提示詞優化和改進\n\n## 提示工程優化架構\n\n### 核心組件\n\n1. **會議上下文感知模組**\n   - 自動識別會議類型和特徵\n   - 分析參與者角色和互動模式\n   - 提取關鍵決策點和行動項目\n\n2. **分層提示詞引擎**\n   - 感知層：理解會議本質特徵\n   - 策略層：選擇最優記錄策略\n   - 執行層：生成結構化會議記錄\n\n3. **動態策略管理器**\n   - 多種會議類型的專用策略\n   - 上下文感知的模板選擇\n   - 實時策略調整機制\n\n### 技術實現\n\n```python\n# 會議上下文分析示例\nclass MeetingAnalyzer:\n    def analyze(self, meeting_data: dict) -> MeetingContext:\n        context = MeetingContext()\n        context.meeting_type = self._classify_meeting_type(meeting_data)\n        context.participants = self._extract_participants(meeting_data)\n        context.decision_density = self._calculate_decision_density(meeting_data)\n        return context\n```\n\n### 實施路線圖\n\n#### 階段一：基礎架構重構 (2週)\n- [ ] 實現會議上下文感知模組\n- [ ] 開發分層提示詞引擎基礎框架\n- [ ] 創建3種基礎會議類型的適配器\n\n#### 階段二：動態策略實現 (3週)\n- [ ] 實現策略管理器\n- [ ] 開發模板組件系統\n- [ ] 整合上下文感知評估\n\n#### 階段三：自適應優化 (3週)\n- [ ] 實現強化學習優化器\n- [ ] 設置在線學習循環\n- [ ] 集成知識圖譜\n\n### 預期效益\n\n- **更智能的會議理解**：超越表面指標，理解會議本質\n- **動態適配能力**：根據會議類型自動調整記錄策略\n- **持續優化**：通過在線學習不斷改進表現\n- **更好的可解釋性**：清晰的決策過程和優化路徑\n\n### 技術棧\n\n- **核心框架**：Python 3.9+\n- **機器學習**：PyTorch, Transformers, bitsandbytes (4-bit 量化)\n- **NLP工具**：sentence-transformers, NLTK\n- **記憶體優化**：accelerate, vLLM (可選)\n- **監控工具**：psutil, GPUtil\n\n### 記憶體優化策略\n\n1. **模型量化**\n   - 使用 4-bit 量化技術\n   - 動態量化權重矩陣\n   - 啟用 Flash Attention 2 (如支援)\n\n2. **批次處理**\n   - 小批次處理輸入數據\n   - 實現記憶體監控\n   - 動態調整批次大小\n\n3. **快取機制**\n   - 使用 LRU 快取優化結果\n   - 實現提示詞模板快取\n   - 特徵向量快取\n\n4. **資源監控**\n   - 即時監控記憶體使用\n   - 動態降級機制\n   - 自動清理未使用的資源\n\n### 開發原則\n\n1. **資源效率**：優先考慮記憶體和計算效率\n2. **漸進式增強**：先實現核心功能，再逐步優化\n3. **可觀察性**：完善的監控和日誌記錄\n4. **優雅降級**：在資源受限時自動調整功能\n\n### 效能基準\n\n| 任務 | 預期記憶體使用 | 預期處理時間 |\n|------|--------------|------------|\n| 模型載入 | ~8GB | 30-60秒 |\n| 提示詞優化 | ~12GB | 5-15秒/提示 |\n| 批次處理 (n=5) | ~14GB | 20-40秒 |\n\n> **注意**：實際數值可能因系統負載和具體輸入而異\n\n### 已知限制\n\n1. **記憶體限制**：\n   - 同時載入多個大型模型可能導致記憶體不足\n   - 建議一次只載入一個模型進行推理\n\n2. **處理時間**：\n   - 複雜提示詞可能需要更長處理時間\n   - 批次處理時延遲會增加\n\n3. **建議的最佳實踐**：\n   - 實現請求佇列系統\n   - 設定處理超時機制\n   - 定期重啟長時間運行的程序以釋放記憶體\n\n## 最近更新\n\n### 2025-05-28 (最新)\n- 重構提示工程優化架構\n- 實現分層提示詞引擎\n- 新增會議上下文感知模組\n- 設計動態策略管理系統\n- 更新實施路線圖\n\n### 2025-05-27\n- 更新 README 文件，改進文檔結構和內容完整性\n- 修復評估階段文件路徑比對問題\n- 優化模型名稱處理邏輯，支援不同格式的模型名稱\n- 改進評估腳本，可選擇性評估特定模型的結果\n- 更新 `run_optimization.sh` 腳本，確保正確傳遞模型參數\n- 改進錯誤處理和日誌記錄\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-27\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 改進模型名稱處理邏輯\n- 優化錯誤處理和重試機制\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-26\n- 實現模型響應時間追蹤\n- 優化模型調用過程中的錯誤處理\n- 改進重試機制，提高穩定性\n\n### 2025-05-25\n- 修復 `time` 模組導入問題\n- 修正 `model_timings` 和 `strategy_timings` 變數作用域問題\n- 更新評估結果和改進策略\n\n## 授權\n\n本項目採用 [MIT 許可證](LICENSE) 授權。",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性：\n\n---\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n---\n\n**額外建議:**\n\n*   **使用標籤/關鍵字:**  在會議記錄中加入標籤或關鍵字，方便日後搜尋和篩選。\n*   **圖表/視覺化:**  如果會議討論涉及數據或圖表，可以在會議記錄中加入相關圖表，以提高可讀性。\n*   **會議記錄分享:**  會議記錄應及時分享給與會者，並提供追蹤機制。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性：\n\n---\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)}\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)}\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源和版本資訊)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        |  |  |  |  |\n        |  |  |  |  |\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容} - *使用積極的語氣，避免使用模糊的措辭*\n*   **4.2. 決議二:** {明確、具體的決議內容}\n*   **4.n. 決議n:** {明確、具體的決議內容}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n---\n\n**額外建議:**\n\n*   **使用標籤/關鍵字:**  在會議記錄中加入標籤或關鍵字，方便日後搜尋和篩選。\n*   **圖表/視覺化:**  如果會議討論涉及數據或圖表，可以在會議記錄中加入相關圖表，以提高可讀性。\n*   **會議記錄分享:**  會議記錄應及時分享給與會者，並提供追蹤機制。\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  希望這個版本能更好地滿足您的需求！\n\n參考:\n# 會議記錄優化與評估系統\n\n## 專案概述\n\n本專案旨在利用大型語言模型（LLM）來自動優化會議記錄，提高其結構化程度、完整性和可讀性。系統支援多種優化策略，並提供全面的評估框架來衡量優化效果。\n\n## 主要功能\n\n- **多策略優化**：支援多種會議記錄優化策略\n- **多模型支援**：可與多種開源和商業語言模型整合\n- **自動化評估**：提供多種評估指標來衡量優化效果\n- **可擴展架構**：易於添加新的優化策略和評估指標\n\n## 快速開始\n\n### 前置需求\n- Python 3.8+\n- Ollama 服務 (用於運行本地模型)\n\n### 安裝步驟\n\n```bash\n# 1. 克隆存儲庫\ngit clone https://github.com/colabbrave/exam08.git\ncd exam08\n\n# 2. 創建並啟動虛擬環境\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# 或\n# .\\venv\\Scripts\\activate  # Windows\n\n# 3. 安裝依賴\npip install -r requirements.txt\n\n# 4. 下載並啟動 Ollama 模型\nollama pull gemma3:4b  # 或其他支援的模型\n```\n\n### 基本用法\n\n```bash\n# 優化會議記錄\n./run_optimization.sh\n\n# 或指定模型\n./run_optimization.sh --model gemma3:4b\n\n# 評估優化結果\npython scripts/evaluate.py --model gemma3_4b\n```\n\n## 專案結構\n\n```\n.\n├── config/                  # 配置文件\n├── data/                    # 數據目錄\n│   ├── reference/           # 參考會議記錄\n│   └── transcript/          # 原始逐字稿\n├── docu/                    # 文檔\n├── logs/                    # 運行日誌\n├── models/                  # 模型文件\n├── prompts/                 # 提示詞模板\n│   ├── base/                # 基礎提示詞\n│   ├── components/          # 提示詞組件\n│   ├── optimized/           # 優化後的提示詞\n│   └── preloaded/           # 預加載的提示詞\n├── results/                 # 結果輸出\n│   ├── evaluation_reports/  # 評估報告\n│   └── optimized/           # 優化後的會議記錄\n└── scripts/                 # 腳本文件\n    ├── evaluate.py          # 評估腳本\n    ├── optimize.py          # 優化腳本\n    ├── model_manager.py     # 模型管理\n    ├── ollama_manager.py    # Ollama 集成\n    └── select_model.py      # 模型選擇\n```\n\n## 評估結果\n\n### 多指標評估系統\n\n我們實現了全面的多指標評估系統，包含以下主要指標：\n\n#### 1. 語義相似度 (權重 50%)\n- **BERTScore F1**：衡量優化前後文本的語義相似度\n- **平均分數**：0.85\n\n#### 2. 內容覆蓋度 (權重 30%)\n- **ROUGE-1**：unigram 層面的覆蓋度\n- **ROUGE-2**：bigram 層面的覆蓋度\n- **ROUGE-L**：最長公共子序列\n- **平均分數**：0.78\n\n#### 3. 結構化程度 (權重 20%)\n- 章節標題質量\n- 段落結構質量\n- 列表使用適當性\n- **平均分數**：0.82\n\n### 模型表現比較\n\n| 模型 | 綜合得分 | 響應時間 | BERTScore | ROUGE-L |\n|------|---------|---------|-----------|---------|\n| gemma3:4b | 0.85 | 45.2s | 0.88 | 0.75 |\n| llama3-8b | 0.82 | 68.7s | 0.86 | 0.73 |\n| mistral-7b | 0.80 | 52.1s | 0.84 | 0.72 |\n\n### 最佳實踐策略排名\n\n1. **補充省略資訊** (0.92)\n   - 提升內容完整性\n   - 自動補全會議中的隱含資訊\n\n2. **明確標註發言者** (0.89)\n   - 提高可讀性\n   - 便於追蹤討論脈絡\n\n3. **結構化摘要** (0.88)\n   - 提升文件結構化程度\n   - 便於快速瀏覽重點\n\n4. **專業術語標準化** (0.86)\n   - 統一專業術語使用\n   - 提高專業性\n\n5. **標準格式模板** (0.85)\n   - 確保格式一致性\n   - 符合企業規範\n\n> **注意**：詳細評估報告請參考 [評估報告目錄](results/evaluation_reports/)\n\n## 貢獻指南\n\n我們歡迎任何形式的貢獻！以下是參與項目的步驟：\n\n1. Fork 本項目\n2. 創建特性分支 (`git checkout -b feature/amazing-feature`)\n3. 提交更改 (`git commit -m 'Add some amazing feature'`)\n4. 推送到分支 (`git push origin feature/amazing-feature`)\n5. 開啟 Pull Request\n\n### 代碼風格\n- 使用 [Black](https://github.com/psf/black) 進行代碼格式化\n- 使用 [Google 風格的 Python 文檔字符串](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)\n\n### 提交信息規範\n請遵循 [Conventional Commits](https://www.conventionalcommits.org/) 規範：\n- feat: 新功能\n- fix: 修復 bug\n- docs: 文檔更新\n- style: 代碼格式\n- refactor: 代碼重構\n- test: 測試相關\n- chore: 構建過程或輔助工具的變動\n\n## 專案進度\n\n### 完成情況\n\n1. **基本架構建立** ✅ 已完成\n   - 專案目錄結構\n   - 基礎優化流程\n   - 多模型支援\n\n2. **評估系統實現** ✅ 已完成\n   - ✅ 基本評估框架\n   - ✅ BERTScore 實現\n   - ✅ ROUGE 實現\n   - ✅ 多指標整合\n   - ✅ 評估報告生成\n   - ✅ 評估報告優化 (改為結構化數據格式)\n\n### 當前階段\n\n3. **提示工程優化** 🚀 進行中\n   - 大模型輔助提示詞優化\n   - 非監督學習優化循環\n   - 自動化評估與反饋\n\n### 後續計劃\n\n4. **效能優化** ⏳ 未開始\n   - 並行處理優化\n   - 快取機制實現\n   - 資源使用監控\n\n5. **系統整合** ⏳ 未開始\n   - API 服務封裝\n   - 自動化部署流程\n   - 監控告警系統\n\n## 系統需求與優化\n\n### 硬體配置\n\n- **裝置**：MacBook Pro (M4 晶片)\n- **CPU**：10 核心 (4 個效能核心 + 6 個節能核心)\n- **記憶體**：16GB 統一記憶體\n- **GPU**：Apple M4 整合式顯示晶片\n\n### 模型配置\n\n- **基礎模型**：`cwchang/llama3-taide-lx-8b-chat-alpha1:latest`\n  - 使用 4-bit 量化載入\n  - 主要用於會議記錄生成\n\n- **優化模型**：`google/gemma-3-12b`\n  - 使用 4-bit 量化載入\n  - 用於提示詞優化和改進\n\n## 提示工程優化架構\n\n### 核心組件\n\n1. **會議上下文感知模組**\n   - 自動識別會議類型和特徵\n   - 分析參與者角色和互動模式\n   - 提取關鍵決策點和行動項目\n\n2. **分層提示詞引擎**\n   - 感知層：理解會議本質特徵\n   - 策略層：選擇最優記錄策略\n   - 執行層：生成結構化會議記錄\n\n3. **動態策略管理器**\n   - 多種會議類型的專用策略\n   - 上下文感知的模板選擇\n   - 實時策略調整機制\n\n### 技術實現\n\n```python\n# 會議上下文分析示例\nclass MeetingAnalyzer:\n    def analyze(self, meeting_data: dict) -> MeetingContext:\n        context = MeetingContext()\n        context.meeting_type = self._classify_meeting_type(meeting_data)\n        context.participants = self._extract_participants(meeting_data)\n        context.decision_density = self._calculate_decision_density(meeting_data)\n        return context\n```\n\n### 實施路線圖\n\n#### 階段一：基礎架構重構 (2週)\n- [ ] 實現會議上下文感知模組\n- [ ] 開發分層提示詞引擎基礎框架\n- [ ] 創建3種基礎會議類型的適配器\n\n#### 階段二：動態策略實現 (3週)\n- [ ] 實現策略管理器\n- [ ] 開發模板組件系統\n- [ ] 整合上下文感知評估\n\n#### 階段三：自適應優化 (3週)\n- [ ] 實現強化學習優化器\n- [ ] 設置在線學習循環\n- [ ] 集成知識圖譜\n\n### 預期效益\n\n- **更智能的會議理解**：超越表面指標，理解會議本質\n- **動態適配能力**：根據會議類型自動調整記錄策略\n- **持續優化**：通過在線學習不斷改進表現\n- **更好的可解釋性**：清晰的決策過程和優化路徑\n\n### 技術棧\n\n- **核心框架**：Python 3.9+\n- **機器學習**：PyTorch, Transformers, bitsandbytes (4-bit 量化)\n- **NLP工具**：sentence-transformers, NLTK\n- **記憶體優化**：accelerate, vLLM (可選)\n- **監控工具**：psutil, GPUtil\n\n### 記憶體優化策略\n\n1. **模型量化**\n   - 使用 4-bit 量化技術\n   - 動態量化權重矩陣\n   - 啟用 Flash Attention 2 (如支援)\n\n2. **批次處理**\n   - 小批次處理輸入數據\n   - 實現記憶體監控\n   - 動態調整批次大小\n\n3. **快取機制**\n   - 使用 LRU 快取優化結果\n   - 實現提示詞模板快取\n   - 特徵向量快取\n\n4. **資源監控**\n   - 即時監控記憶體使用\n   - 動態降級機制\n   - 自動清理未使用的資源\n\n### 開發原則\n\n1. **資源效率**：優先考慮記憶體和計算效率\n2. **漸進式增強**：先實現核心功能，再逐步優化\n3. **可觀察性**：完善的監控和日誌記錄\n4. **優雅降級**：在資源受限時自動調整功能\n\n### 效能基準\n\n| 任務 | 預期記憶體使用 | 預期處理時間 |\n|------|--------------|------------|\n| 模型載入 | ~8GB | 30-60秒 |\n| 提示詞優化 | ~12GB | 5-15秒/提示 |\n| 批次處理 (n=5) | ~14GB | 20-40秒 |\n\n> **注意**：實際數值可能因系統負載和具體輸入而異\n\n### 已知限制\n\n1. **記憶體限制**：\n   - 同時載入多個大型模型可能導致記憶體不足\n   - 建議一次只載入一個模型進行推理\n\n2. **處理時間**：\n   - 複雜提示詞可能需要更長處理時間\n   - 批次處理時延遲會增加\n\n3. **建議的最佳實踐**：\n   - 實現請求佇列系統\n   - 設定處理超時機制\n   - 定期重啟長時間運行的程序以釋放記憶體\n\n## 最近更新\n\n### 2025-05-28 (最新)\n- 重構提示工程優化架構\n- 實現分層提示詞引擎\n- 新增會議上下文感知模組\n- 設計動態策略管理系統\n- 更新實施路線圖\n\n### 2025-05-27\n- 更新 README 文件，改進文檔結構和內容完整性\n- 修復評估階段文件路徑比對問題\n- 優化模型名稱處理邏輯，支援不同格式的模型名稱\n- 改進評估腳本，可選擇性評估特定模型的結果\n- 更新 `run_optimization.sh` 腳本，確保正確傳遞模型參數\n- 改進錯誤處理和日誌記錄\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-27\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 改進模型名稱處理邏輯\n- 優化錯誤處理和重試機制\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-26\n- 實現模型響應時間追蹤\n- 優化模型調用過程中的錯誤處理\n- 改進重試機制，提高穩定性\n\n### 2025-05-25\n- 修復 `time` 模組導入問題\n- 修正 `model_timings` 和 `strategy_timings` 變數作用域問題\n- 更新評估結果和改進策略\n\n## 授權\n\n本項目採用 [MIT 許可證](LICENSE) 授權。"
        ]
      },
      "timestamp": "2025-05-28T14:09:49.717374"
    },
    {
      "iteration": 5,
      "stability_score": 0.7137846602853065,
      "quality_score": 0.0,
      "overall_score": 0.4282707961711839,
      "metrics": {
        "stability_score": 0.7137846602853065,
        "quality_score": 0.0,
        "overall_score": 0.4282707961711839,
        "stability_metrics": {
          "format_consistency": 0.9725003945731117,
          "length_stability": 0.8320250210612982,
          "key_element_coverage": 0.3333333333333333,
          "semantic_stability": 0.7781476885055668,
          "overall_stability": 0.7137846602853065
        },
        "quality_metrics": {
          "categories": {
            "semantic_similarity": {
              "name": "semantic_similarity",
              "score": 0.0,
              "metrics": {
                "bertscore_f1": {
                  "score": 0.0,
                  "weight": 1.0,
                  "details": {
                    "error": "unhashable type: 'list'"
                  }
                }
              }
            },
            "content_coverage": {
              "name": "content_coverage",
              "score": 0.0,
              "metrics": {
                "rouge1": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rouge2": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rougeL": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                }
              }
            },
            "structure_quality": {
              "name": "structure_quality",
              "score": 0.0,
              "metrics": {
                "section_heading_quality": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "paragraph_structure": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "list_usage": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                }
              }
            }
          },
          "overall_score": 0.0
        },
        "generated_samples": [
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的反饋和要求，對會議記錄模板進行的改進版本。我著重於提升準確性、完整性、清晰度和專業性，並加入了更多實用的建議和範例。\n\n---\n\n**會議記錄模板**\n\n**版本號：** [版本號，例如：V1.0]\n**日期：** [創建日期]\n\n**1. 會議資訊**\n\n*   **會議主題：** [會議主題，例如：新產品上市策略討論]\n*   **會議時間：** [YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM] (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點：** [完整地址，例如：台北市信義區市府路1號16樓] - *提供完整地址，方便後續追蹤*\n*   **會議類型：** [會議類型，例如：專案會議、決策會議、審查會議、腦力激盪會議] - *請明確指定類型，以便分類和追蹤*\n*   **與會人員：**\n    *   **主持人：** [主持人姓名] - [主持人職稱] - [主持人聯絡方式 (Email/電話)]\n    *   **記錄員：** [記錄員姓名] - [記錄員職稱] - [記錄員聯絡方式 (Email/電話)]\n    *   **其他與會者：**\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        | [姓名1] | [職稱1] | [Email/電話1] |\n        | [姓名2] | [職稱2] | [Email/電話2] |\n        | ... | ... | ... |\n\n**2. 會議摘要**\n\n*   **會議目的：** [簡潔明瞭地描述會議主要目標，例如：討論新產品上市策略、審核專案進度、解決技術問題] - *使用簡潔的語言，避免冗餘描述*  (例如：本會議旨在討論新產品“Alpha”的上市策略，並確定關鍵的市場推廣活動。)\n*   **會議重點：** [一至兩句話精確概括會議核心內容] - *確保重點反映會議實際討論內容，避免主觀臆斷* (例如：確認了“Alpha”產品的目標市場為年輕族群，並決定將主要推廣渠道集中在社群媒體平台。)\n\n**3. 討論要點**\n\n*   **3.1. 議題一：[議題名稱]** (例如：產品定位與目標市場)\n    *   **3.1.1. 討論內容：**\n        *   [具體討論點 1]: [例如：市場分析顯示，年輕族群對創新產品的需求較高。] - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   [具體討論點 2]: [例如：競爭對手產品的優勢和劣勢分析。] - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n    *   **3.1.1.1. 相關資料/證據：**\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        | 市場分析報告 | 內部市場部 | V1.2 | [連結/附件] |\n        | 競爭對手產品分析 | 外部顧問公司 | 2023-10-26 | [連結/附件] |\n\n*   **3.n. 議題n: [議題n名稱]** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** [明確、具體的決議內容] - *使用積極的語氣，避免使用模糊的措辭* (例如：決議將“Alpha”產品的目標市場鎖定為18-25歲的年輕族群。)\n*   **4.2. 決議二:** [明確、具體的決議內容]\n*   **4.n. 決議n:** [明確、具體的決議內容]\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | [負責人姓名] | 2023-11-03 | 撰寫“Alpha”產品上市策略報告，並提交給市場部。 | 未開始 | 高 |\n| 2 | [負責人姓名] | 2023-11-03 | 聯繫社群媒體廣告投放平台，確認廣告投放方案。 | 進行中 | 中 |\n| n | [負責人姓名] | 2023-11-03 | 準備“Alpha”產品的簡報資料。 | 未開始 | 高 |\n\n**6. 備註** (可選)\n\n*   [任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進] - *請明確指出需要誰負責跟進，並提供具體的跟進方案* (例如：建議安排一次產品演示，讓各部門更了解“Alpha”的功能。)\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性和完整性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n---\n\n**額外建議：**\n\n*   **模板範本：**  提供一個簡單的表格範本，方便記錄員直接填寫。\n*   **附件管理：**  建立一個附件管理系統，方便記錄員快速找到相關文件。\n*   **數位化工具：**  建議使用數位化工具（例如：Google Docs、Microsoft Teams）進行會議記錄，以便多人協同編輯和分享。\n\n希望這個更完善的模板能更好地滿足您的需求！  如果您有任何其他要求，請隨時提出。\n\n\n參考:\n# 會議記錄優化工具安裝與使用指南\n\n## 環境要求\n\n- Python 3.8 或更高版本\n- CUDA 11.7 或更高版本（如需 GPU 加速）\n- 至少 16GB 系統記憶體（建議 32GB 或更多）\n- 至少 20GB 可用磁碟空間（用於模型快取）\n\n## 安裝步驟\n\n1. 克隆代碼庫：\n   ```bash\n   git clone <repository-url>\n   cd exam08_提示詞練習重啟\n   ```\n\n2. 創建並啟動虛擬環境（建議）：\n   ```bash\n   python -m venv venv\n   source venv/bin/activate  # Linux/Mac\n   # 或\n   .\\venv\\Scripts\\activate  # Windows\n   ```\n\n3. 安裝依賴：\n   ```bash\n   pip install -r requirements.txt\n   ```\n\n4. 安裝 PyTorch（如需 GPU 支援）：\n   ```bash\n   # 請根據您的 CUDA 版本選擇合適的安裝命令\n   # 例如，CUDA 11.8：\n   pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118\n   ```\n\n## 下載模型\n\n本工具支援多種語言模型，預設使用 `cwchang/llama3-taide-lx-8b-chat-alpha1_latest`。\n\n首次運行時，工具會自動下載模型（約 15GB）。確保您有足夠的磁碟空間和穩定的網路連接。\n\n## 使用方法\n\n### 1. 優化單個會議記錄\n\n```bash\npython scripts/optimize_meeting_minutes.py path/to/your/meeting.txt\n```\n\n### 2. 批量處理多個會議記錄\n\n```bash\n# 創建輸出目錄\nmkdir -p optimized_meetings\n\n# 處理目錄中的所有 .txt 文件\nfor f in data/meetings/*.txt; do\n    python scripts/optimize_meeting_minutes.py \"$f\" -o optimized_meetings\ndone\n```\n\n### 3. 評估優化效果\n\n```bash\n# 評估單個優化結果\npython scripts/test_optimization.py --test-dir path/to/test/files --output-dir results/evaluation\n\n# 查看評估報告\ncat results/evaluation/optimization_evaluation.json\n```\n\n## 進階選項\n\n### 使用不同的模型\n\n```bash\npython scripts/optimize_meeting_minutes.py meeting.txt --model \"jcai/llama3-taide-lx-8b-chat-alpha1_Q4_K_M\"\n```\n\n### 調整生成長度\n\n```bash\n# 增加生成長度限制\npython scripts/optimize_meeting_minutes.py meeting.txt --max-length 4096\n```\n\n## 疑難排解\n\n### 記憶體不足\n\n如果遇到記憶體不足錯誤，請嘗試：\n\n1. 減少生成長度 (`--max-length`)\n2. 使用較小的模型\n3. 增加系統交換空間\n4. 使用 CPU 模式（不推薦，速度較慢）\n\n### 模型下載問題\n\n如果模型下載失敗：\n\n1. 檢查網路連接\n2. 確保有足夠的磁碟空間\n3. 手動下載模型並指定本地路徑\n\n## 貢獻指南\n\n歡迎提交問題和拉取請求！請確保：\n\n1. 遵循現有的代碼風格\n2. 為新功能添加測試\n3. 更新相關文檔\n\n## 授權\n\n[在此添加授權信息]",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的反饋和要求，對會議記錄模板進行的改進版本。我著重於提升準確性、完整性、清晰度和專業性，並加入了更多實用的建議和範例。\n\n---\n\n**會議記錄模板**\n\n**版本號：** [版本號，例如：V1.0]\n**日期：** [創建日期]\n\n**1. 會議資訊**\n\n*   **會議主題：** [會議主題，例如：新產品上市策略討論]\n*   **會議時間：** [YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM] (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點：** [完整地址，例如：台北市信義區市府路1號16樓] - *提供完整地址，方便後續追蹤*\n*   **會議類型：** [會議類型，例如：專案會議、決策會議、審查會議、腦力激盪會議] - *請明確指定類型，以便分類和追蹤*\n*   **與會人員：**\n    *   **主持人：** [主持人姓名] - [主持人職稱] - [主持人聯絡方式 (Email/電話)]\n    *   **記錄員：** [記錄員姓名] - [記錄員職稱] - [記錄員聯絡方式 (Email/電話)]\n    *   **其他與會者：**\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        | [姓名1] | [職稱1] | [Email/電話1] |\n        | [姓名2] | [職稱2] | [Email/電話2] |\n        | ... | ... | ... |\n\n**2. 會議摘要**\n\n*   **會議目的：** [簡潔明瞭地描述會議主要目標，例如：討論新產品上市策略、審核專案進度、解決技術問題] - *使用簡潔的語言，避免冗餘描述*  (例如：本會議旨在討論新產品“Alpha”的上市策略，並確定關鍵的市場推廣活動。)\n*   **會議重點：** [一至兩句話精確概括會議核心內容] - *確保重點反映會議實際討論內容，避免主觀臆斷* (例如：確認了“Alpha”產品的目標市場為年輕族群，並決定將主要推廣渠道集中在社群媒體平台。)\n\n**3. 討論要點**\n\n*   **3.1. 議題一：[議題名稱]** (例如：產品定位與目標市場)\n    *   **3.1.1. 討論內容：**\n        *   [具體討論點 1]: [例如：市場分析顯示，年輕族群對創新產品的需求較高。] - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   [具體討論點 2]: [例如：競爭對手產品的優勢和劣勢分析。] - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n    *   **3.1.1.1. 相關資料/證據：**\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        | 市場分析報告 | 內部市場部 | V1.2 | [連結/附件] |\n        | 競爭對手產品分析 | 外部顧問公司 | 2023-10-26 | [連結/附件] |\n\n*   **3.n. 議題n: [議題n名稱]** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** [明確、具體的決議內容] - *使用積極的語氣，避免使用模糊的措辭* (例如：決議將“Alpha”產品的目標市場鎖定為18-25歲的年輕族群。)\n*   **4.2. 決議二:** [明確、具體的決議內容]\n*   **4.n. 決議n:** [明確、具體的決議內容]\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | [負責人姓名] | 2023-11-03 | 撰寫“Alpha”產品上市策略報告，並提交給市場部。 | 未開始 | 高 |\n| 2 | [負責人姓名] | 2023-11-03 | 聯繫社群媒體廣告投放平台，確認廣告投放方案。 | 進行中 | 中 |\n| n | [負責人姓名] | 2023-11-03 | 準備“Alpha”產品的簡報資料。 | 未開始 | 高 |\n\n**6. 備註** (可選)\n\n*   [任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進] - *請明確指出需要誰負責跟進，並提供具體的跟進方案* (例如：建議安排一次產品演示，讓各部門更了解“Alpha”的功能。)\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性和完整性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n---\n\n**額外建議：**\n\n*   **模板範本：**  提供一個簡單的表格範本，方便記錄員直接填寫。\n*   **附件管理：**  建立一個附件管理系統，方便記錄員快速找到相關文件。\n*   **數位化工具：**  建議使用數位化工具（例如：Google Docs、Microsoft Teams）進行會議記錄，以便多人協同編輯和分享。\n\n希望這個更完善的模板能更好地滿足您的需求！  如果您有任何其他要求，請隨時提出。\n\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的反饋和要求，對會議記錄模板進行的改進版本。我著重於提升準確性、完整性、清晰度和專業性，並加入了更多實用的建議和範例。\n\n---\n\n**會議記錄模板**\n\n**版本號：** [版本號，例如：V1.0]\n**日期：** [創建日期]\n\n**1. 會議資訊**\n\n*   **會議主題：** [會議主題，例如：新產品上市策略討論]\n*   **會議時間：** [YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM] (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式，確保時間精度*\n*   **會議地點：** [完整地址，例如：台北市信義區市府路1號16樓] - *提供完整地址，方便後續追蹤*\n*   **會議類型：** [會議類型，例如：專案會議、決策會議、審查會議、腦力激盪會議] - *請明確指定類型，以便分類和追蹤*\n*   **與會人員：**\n    *   **主持人：** [主持人姓名] - [主持人職稱] - [主持人聯絡方式 (Email/電話)]\n    *   **記錄員：** [記錄員姓名] - [記錄員職稱] - [記錄員聯絡方式 (Email/電話)]\n    *   **其他與會者：**\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        | [姓名1] | [職稱1] | [Email/電話1] |\n        | [姓名2] | [職稱2] | [Email/電話2] |\n        | ... | ... | ... |\n\n**2. 會議摘要**\n\n*   **會議目的：** [簡潔明瞭地描述會議主要目標，例如：討論新產品上市策略、審核專案進度、解決技術問題] - *使用簡潔的語言，避免冗餘描述*  (例如：本會議旨在討論新產品“Alpha”的上市策略，並確定關鍵的市場推廣活動。)\n*   **會議重點：** [一至兩句話精確概括會議核心內容] - *確保重點反映會議實際討論內容，避免主觀臆斷* (例如：確認了“Alpha”產品的目標市場為年輕族群，並決定將主要推廣渠道集中在社群媒體平台。)\n\n**3. 討論要點**\n\n*   **3.1. 議題一：[議題名稱]** (例如：產品定位與目標市場)\n    *   **3.1.1. 討論內容：**\n        *   [具體討論點 1]: [例如：市場分析顯示，年輕族群對創新產品的需求較高。] - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析*\n        *   [具體討論點 2]: [例如：競爭對手產品的優勢和劣勢分析。] - *明確指出不同觀點、爭論點，並記錄各方提出的論證*\n    *   **3.1.1.1. 相關資料/證據：**\n        | 文件名稱 | 來源 | 版本 | 連結/附件 |\n        |---|---|---|---|\n        | 市場分析報告 | 內部市場部 | V1.2 | [連結/附件] |\n        | 競爭對手產品分析 | 外部顧問公司 | 2023-10-26 | [連結/附件] |\n\n*   **3.n. 議題n: [議題n名稱]** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** [明確、具體的決議內容] - *使用積極的語氣，避免使用模糊的措辭* (例如：決議將“Alpha”產品的目標市場鎖定為18-25歲的年輕族群。)\n*   **4.2. 決議二:** [明確、具體的決議內容]\n*   **4.n. 決議n:** [明確、具體的決議內容]\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) |\n|---|---|---|---|---|---|\n| 1 | [負責人姓名] | 2023-11-03 | 撰寫“Alpha”產品上市策略報告，並提交給市場部。 | 未開始 | 高 |\n| 2 | [負責人姓名] | 2023-11-03 | 聯繫社群媒體廣告投放平台，確認廣告投放方案。 | 進行中 | 中 |\n| n | [負責人姓名] | 2023-11-03 | 準備“Alpha”產品的簡報資料。 | 未開始 | 高 |\n\n**6. 備註** (可選)\n\n*   [任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進] - *請明確指出需要誰負責跟進，並提供具體的跟進方案* (例如：建議安排一次產品演示，讓各部門更了解“Alpha”的功能。)\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性和完整性。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。\n\n---\n\n**額外建議：**\n\n*   **模板範本：**  提供一個簡單的表格範本，方便記錄員直接填寫。\n*   **附件管理：**  建立一個附件管理系統，方便記錄員快速找到相關文件。\n*   **數位化工具：**  建議使用數位化工具（例如：Google Docs、Microsoft Teams）進行會議記錄，以便多人協同編輯和分享。\n\n希望這個更完善的模板能更好地滿足您的需求！  如果您有任何其他要求，請隨時提出。\n\n\n參考:\n# 會議記錄優化工具安裝與使用指南\n\n## 環境要求\n\n- Python 3.8 或更高版本\n- CUDA 11.7 或更高版本（如需 GPU 加速）\n- 至少 16GB 系統記憶體（建議 32GB 或更多）\n- 至少 20GB 可用磁碟空間（用於模型快取）\n\n## 安裝步驟\n\n1. 克隆代碼庫：\n   ```bash\n   git clone <repository-url>\n   cd exam08_提示詞練習重啟\n   ```\n\n2. 創建並啟動虛擬環境（建議）：\n   ```bash\n   python -m venv venv\n   source venv/bin/activate  # Linux/Mac\n   # 或\n   .\\venv\\Scripts\\activate  # Windows\n   ```\n\n3. 安裝依賴：\n   ```bash\n   pip install -r requirements.txt\n   ```\n\n4. 安裝 PyTorch（如需 GPU 支援）：\n   ```bash\n   # 請根據您的 CUDA 版本選擇合適的安裝命令\n   # 例如，CUDA 11.8：\n   pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118\n   ```\n\n## 下載模型\n\n本工具支援多種語言模型，預設使用 `cwchang/llama3-taide-lx-8b-chat-alpha1_latest`。\n\n首次運行時，工具會自動下載模型（約 15GB）。確保您有足夠的磁碟空間和穩定的網路連接。\n\n## 使用方法\n\n### 1. 優化單個會議記錄\n\n```bash\npython scripts/optimize_meeting_minutes.py path/to/your/meeting.txt\n```\n\n### 2. 批量處理多個會議記錄\n\n```bash\n# 創建輸出目錄\nmkdir -p optimized_meetings\n\n# 處理目錄中的所有 .txt 文件\nfor f in data/meetings/*.txt; do\n    python scripts/optimize_meeting_minutes.py \"$f\" -o optimized_meetings\ndone\n```\n\n### 3. 評估優化效果\n\n```bash\n# 評估單個優化結果\npython scripts/test_optimization.py --test-dir path/to/test/files --output-dir results/evaluation\n\n# 查看評估報告\ncat results/evaluation/optimization_evaluation.json\n```\n\n## 進階選項\n\n### 使用不同的模型\n\n```bash\npython scripts/optimize_meeting_minutes.py meeting.txt --model \"jcai/llama3-taide-lx-8b-chat-alpha1_Q4_K_M\"\n```\n\n### 調整生成長度\n\n```bash\n# 增加生成長度限制\npython scripts/optimize_meeting_minutes.py meeting.txt --max-length 4096\n```\n\n## 疑難排解\n\n### 記憶體不足\n\n如果遇到記憶體不足錯誤，請嘗試：\n\n1. 減少生成長度 (`--max-length`)\n2. 使用較小的模型\n3. 增加系統交換空間\n4. 使用 CPU 模式（不推薦，速度較慢）\n\n### 模型下載問題\n\n如果模型下載失敗：\n\n1. 檢查網路連接\n2. 確保有足夠的磁碟空間\n3. 手動下載模型並指定本地路徑\n\n## 貢獻指南\n\n歡迎提交問題和拉取請求！請確保：\n\n1. 遵循現有的代碼風格\n2. 為新功能添加測試\n3. 更新相關文檔\n\n## 授權\n\n[在此添加授權信息]"
        ]
      },
      "timestamp": "2025-05-28T14:10:46.908645"
    },
    {
      "iteration": 6,
      "stability_score": 0.6066453225290767,
      "quality_score": 0.0,
      "overall_score": 0.36398719351744596,
      "metrics": {
        "stability_score": 0.6066453225290767,
        "quality_score": 0.0,
        "overall_score": 0.36398719351744596,
        "stability_metrics": {
          "format_consistency": 0.9405113724679701,
          "length_stability": 0.6676062709578048,
          "key_element_coverage": 0.3333333333333333,
          "semantic_stability": 0.45485328298562333,
          "overall_stability": 0.6066453225290767
        },
        "quality_metrics": {
          "categories": {
            "semantic_similarity": {
              "name": "semantic_similarity",
              "score": 0.0,
              "metrics": {
                "bertscore_f1": {
                  "score": 0.0,
                  "weight": 1.0,
                  "details": {
                    "error": "unhashable type: 'list'"
                  }
                }
              }
            },
            "content_coverage": {
              "name": "content_coverage",
              "score": 0.0,
              "metrics": {
                "rouge1": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rouge2": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                },
                "rougeL": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'lower'"
                  }
                }
              }
            },
            "structure_quality": {
              "name": "structure_quality",
              "score": 0.0,
              "metrics": {
                "section_heading_quality": {
                  "score": 0.0,
                  "weight": 0.4,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "paragraph_structure": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                },
                "list_usage": {
                  "score": 0.0,
                  "weight": 0.3,
                  "details": {
                    "error": "'list' object has no attribute 'split'"
                  }
                }
              }
            }
          },
          "overall_score": 0.0
        },
        "generated_samples": [
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性：\n\n---\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式 (ISO 8601 建議格式: YYYY-MM-DDTHH:MM:SSZ) 以確保跨平台兼容性及易於排序。*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤及地理定位。*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤，並可建立類型分類標準。*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)} - *主持人負責維持會議秩序、控制時間、確認決議事項。*\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)} - *記錄員負責記錄會議內容，確保準確性。*\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述，並明確指出會議的最終目標。*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷，並可作為後續追蹤的關鍵指標。*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析，並提供數據來源及計算方法。*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證，並記錄投票結果（如有）。*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源、版本資訊及連結/附件)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 | 關鍵詞/摘要 |\n        |---|---|---|---|---|\n        |  |  |  |  |  |\n        |  |  |  |  |  |\n\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容，並說明決議的影響範圍} - *使用積極的語氣，避免使用模糊的措辭，並明確指出負責人及截止日期。*\n*   **4.2. 決議二:** {明確、具體的決議內容，並說明決議的影響範圍}\n*   **4.n. 決議n:** {明確、具體的決議內容，並說明決議的影響範圍}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) | 依賴項目 (若有) |\n|---|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案，並記錄跟進方案的狀態。*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性和完整性。 記錄員應在會議結束後立即審核記錄，確保所有討論點和決議事項都已記錄。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。 建議使用雲端儲存服務，以確保資料安全和可訪問性。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。 建立標準化的會議記錄流程，並定期進行培訓，以提高記錄員的專業水平。\n\n---\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  我們增加了“依賴項目”欄位，以幫助追蹤任務之間的關聯性。  希望這個版本能更好地滿足您的需求！\n\n參考:\ntorch>=2.0.0\ntransformers>=4.30.0\nevaluate>=0.4.0\nrouge-score>=0.1.2\nbert-score>=0.3.13\ntqdm>=4.65.0\npandas>=1.5.0\nnumpy>=1.24.0\nscikit-learn>=1.2.0",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性：\n\n---\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式 (ISO 8601 建議格式: YYYY-MM-DDTHH:MM:SSZ) 以確保跨平台兼容性及易於排序。*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤及地理定位。*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤，並可建立類型分類標準。*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)} - *主持人負責維持會議秩序、控制時間、確認決議事項。*\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)} - *記錄員負責記錄會議內容，確保準確性。*\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述，並明確指出會議的最終目標。*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷，並可作為後續追蹤的關鍵指標。*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析，並提供數據來源及計算方法。*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證，並記錄投票結果（如有）。*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源、版本資訊及連結/附件)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 | 關鍵詞/摘要 |\n        |---|---|---|---|---|\n        |  |  |  |  |  |\n        |  |  |  |  |  |\n\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容，並說明決議的影響範圍} - *使用積極的語氣，避免使用模糊的措辭，並明確指出負責人及截止日期。*\n*   **4.2. 決議二:** {明確、具體的決議內容，並說明決議的影響範圍}\n*   **4.n. 決議n:** {明確、具體的決議內容，並說明決議的影響範圍}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) | 依賴項目 (若有) |\n|---|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案，並記錄跟進方案的狀態。*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性和完整性。 記錄員應在會議結束後立即審核記錄，確保所有討論點和決議事項都已記錄。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。 建議使用雲端儲存服務，以確保資料安全和可訪問性。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。 建立標準化的會議記錄流程，並定期進行培訓，以提高記錄員的專業水平。\n\n---\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  我們增加了“依賴項目”欄位，以幫助追蹤任務之間的關聯性。  希望這個版本能更好地滿足您的需求！\n\n參考:\n# 會議記錄優化與評估系統\n\n## 專案概述\n\n本專案旨在利用大型語言模型（LLM）來自動優化會議記錄，提高其結構化程度、完整性和可讀性。系統支援多種優化策略，並提供全面的評估框架來衡量優化效果。\n\n## 主要功能\n\n- **多策略優化**：支援多種會議記錄優化策略\n- **多模型支援**：可與多種開源和商業語言模型整合\n- **自動化評估**：提供多種評估指標來衡量優化效果\n- **可擴展架構**：易於添加新的優化策略和評估指標\n\n## 快速開始\n\n### 前置需求\n- Python 3.8+\n- Ollama 服務 (用於運行本地模型)\n\n### 安裝步驟\n\n```bash\n# 1. 克隆存儲庫\ngit clone https://github.com/colabbrave/exam08.git\ncd exam08\n\n# 2. 創建並啟動虛擬環境\npython -m venv venv\nsource venv/bin/activate  # Linux/Mac\n# 或\n# .\\venv\\Scripts\\activate  # Windows\n\n# 3. 安裝依賴\npip install -r requirements.txt\n\n# 4. 下載並啟動 Ollama 模型\nollama pull gemma3:4b  # 或其他支援的模型\n```\n\n### 基本用法\n\n```bash\n# 優化會議記錄\n./run_optimization.sh\n\n# 或指定模型\n./run_optimization.sh --model gemma3:4b\n\n# 評估優化結果\npython scripts/evaluate.py --model gemma3_4b\n```\n\n## 專案結構\n\n```\n.\n├── config/                  # 配置文件\n├── data/                    # 數據目錄\n│   ├── reference/           # 參考會議記錄\n│   └── transcript/          # 原始逐字稿\n├── docu/                    # 文檔\n├── logs/                    # 運行日誌\n├── models/                  # 模型文件\n├── prompts/                 # 提示詞模板\n│   ├── base/                # 基礎提示詞\n│   ├── components/          # 提示詞組件\n│   ├── optimized/           # 優化後的提示詞\n│   └── preloaded/           # 預加載的提示詞\n├── results/                 # 結果輸出\n│   ├── evaluation_reports/  # 評估報告\n│   └── optimized/           # 優化後的會議記錄\n└── scripts/                 # 腳本文件\n    ├── evaluate.py          # 評估腳本\n    ├── optimize.py          # 優化腳本\n    ├── model_manager.py     # 模型管理\n    ├── ollama_manager.py    # Ollama 集成\n    └── select_model.py      # 模型選擇\n```\n\n## 評估結果\n\n### 多指標評估系統\n\n我們實現了全面的多指標評估系統，包含以下主要指標：\n\n#### 1. 語義相似度 (權重 50%)\n- **BERTScore F1**：衡量優化前後文本的語義相似度\n- **平均分數**：0.85\n\n#### 2. 內容覆蓋度 (權重 30%)\n- **ROUGE-1**：unigram 層面的覆蓋度\n- **ROUGE-2**：bigram 層面的覆蓋度\n- **ROUGE-L**：最長公共子序列\n- **平均分數**：0.78\n\n#### 3. 結構化程度 (權重 20%)\n- 章節標題質量\n- 段落結構質量\n- 列表使用適當性\n- **平均分數**：0.82\n\n### 模型表現比較\n\n| 模型 | 綜合得分 | 響應時間 | BERTScore | ROUGE-L |\n|------|---------|---------|-----------|---------|\n| gemma3:4b | 0.85 | 45.2s | 0.88 | 0.75 |\n| llama3-8b | 0.82 | 68.7s | 0.86 | 0.73 |\n| mistral-7b | 0.80 | 52.1s | 0.84 | 0.72 |\n\n### 最佳實踐策略排名\n\n1. **補充省略資訊** (0.92)\n   - 提升內容完整性\n   - 自動補全會議中的隱含資訊\n\n2. **明確標註發言者** (0.89)\n   - 提高可讀性\n   - 便於追蹤討論脈絡\n\n3. **結構化摘要** (0.88)\n   - 提升文件結構化程度\n   - 便於快速瀏覽重點\n\n4. **專業術語標準化** (0.86)\n   - 統一專業術語使用\n   - 提高專業性\n\n5. **標準格式模板** (0.85)\n   - 確保格式一致性\n   - 符合企業規範\n\n> **注意**：詳細評估報告請參考 [評估報告目錄](results/evaluation_reports/)\n\n## 貢獻指南\n\n我們歡迎任何形式的貢獻！以下是參與項目的步驟：\n\n1. Fork 本項目\n2. 創建特性分支 (`git checkout -b feature/amazing-feature`)\n3. 提交更改 (`git commit -m 'Add some amazing feature'`)\n4. 推送到分支 (`git push origin feature/amazing-feature`)\n5. 開啟 Pull Request\n\n### 代碼風格\n- 使用 [Black](https://github.com/psf/black) 進行代碼格式化\n- 使用 [Google 風格的 Python 文檔字符串](https://google.github.io/styleguide/pyguide.html#38-comments-and-docstrings)\n\n### 提交信息規範\n請遵循 [Conventional Commits](https://www.conventionalcommits.org/) 規範：\n- feat: 新功能\n- fix: 修復 bug\n- docs: 文檔更新\n- style: 代碼格式\n- refactor: 代碼重構\n- test: 測試相關\n- chore: 構建過程或輔助工具的變動\n\n## 專案進度\n\n### 完成情況\n\n1. **基本架構建立** ✅ 已完成\n   - 專案目錄結構\n   - 基礎優化流程\n   - 多模型支援\n\n2. **評估系統實現** ✅ 已完成\n   - ✅ 基本評估框架\n   - ✅ BERTScore 實現\n   - ✅ ROUGE 實現\n   - ✅ 多指標整合\n   - ✅ 評估報告生成\n   - ✅ 評估報告優化 (改為結構化數據格式)\n\n### 當前階段\n\n3. **提示工程優化** 🚀 進行中\n   - 大模型輔助提示詞優化\n   - 非監督學習優化循環\n   - 自動化評估與反饋\n\n### 後續計劃\n\n4. **效能優化** ⏳ 未開始\n   - 並行處理優化\n   - 快取機制實現\n   - 資源使用監控\n\n5. **系統整合** ⏳ 未開始\n   - API 服務封裝\n   - 自動化部署流程\n   - 監控告警系統\n\n## 系統需求與優化\n\n### 硬體配置\n\n- **裝置**：MacBook Pro (M4 晶片)\n- **CPU**：10 核心 (4 個效能核心 + 6 個節能核心)\n- **記憶體**：16GB 統一記憶體\n- **GPU**：Apple M4 整合式顯示晶片\n\n### 模型配置\n\n- **基礎模型**：`cwchang/llama3-taide-lx-8b-chat-alpha1:latest`\n  - 使用 4-bit 量化載入\n  - 主要用於會議記錄生成\n\n- **優化模型**：`google/gemma-3-12b`\n  - 使用 4-bit 量化載入\n  - 用於提示詞優化和改進\n\n## 提示工程優化架構\n\n### 核心組件\n\n1. **會議上下文感知模組**\n   - 自動識別會議類型和特徵\n   - 分析參與者角色和互動模式\n   - 提取關鍵決策點和行動項目\n\n2. **分層提示詞引擎**\n   - 感知層：理解會議本質特徵\n   - 策略層：選擇最優記錄策略\n   - 執行層：生成結構化會議記錄\n\n3. **動態策略管理器**\n   - 多種會議類型的專用策略\n   - 上下文感知的模板選擇\n   - 實時策略調整機制\n\n### 技術實現\n\n```python\n# 會議上下文分析示例\nclass MeetingAnalyzer:\n    def analyze(self, meeting_data: dict) -> MeetingContext:\n        context = MeetingContext()\n        context.meeting_type = self._classify_meeting_type(meeting_data)\n        context.participants = self._extract_participants(meeting_data)\n        context.decision_density = self._calculate_decision_density(meeting_data)\n        return context\n```\n\n### 實施路線圖\n\n#### 階段一：基礎架構重構 (2週)\n- [ ] 實現會議上下文感知模組\n- [ ] 開發分層提示詞引擎基礎框架\n- [ ] 創建3種基礎會議類型的適配器\n\n#### 階段二：動態策略實現 (3週)\n- [ ] 實現策略管理器\n- [ ] 開發模板組件系統\n- [ ] 整合上下文感知評估\n\n#### 階段三：自適應優化 (3週)\n- [ ] 實現強化學習優化器\n- [ ] 設置在線學習循環\n- [ ] 集成知識圖譜\n\n### 預期效益\n\n- **更智能的會議理解**：超越表面指標，理解會議本質\n- **動態適配能力**：根據會議類型自動調整記錄策略\n- **持續優化**：通過在線學習不斷改進表現\n- **更好的可解釋性**：清晰的決策過程和優化路徑\n\n### 技術棧\n\n- **核心框架**：Python 3.9+\n- **機器學習**：PyTorch, Transformers, bitsandbytes (4-bit 量化)\n- **NLP工具**：sentence-transformers, NLTK\n- **記憶體優化**：accelerate, vLLM (可選)\n- **監控工具**：psutil, GPUtil\n\n### 記憶體優化策略\n\n1. **模型量化**\n   - 使用 4-bit 量化技術\n   - 動態量化權重矩陣\n   - 啟用 Flash Attention 2 (如支援)\n\n2. **批次處理**\n   - 小批次處理輸入數據\n   - 實現記憶體監控\n   - 動態調整批次大小\n\n3. **快取機制**\n   - 使用 LRU 快取優化結果\n   - 實現提示詞模板快取\n   - 特徵向量快取\n\n4. **資源監控**\n   - 即時監控記憶體使用\n   - 動態降級機制\n   - 自動清理未使用的資源\n\n### 開發原則\n\n1. **資源效率**：優先考慮記憶體和計算效率\n2. **漸進式增強**：先實現核心功能，再逐步優化\n3. **可觀察性**：完善的監控和日誌記錄\n4. **優雅降級**：在資源受限時自動調整功能\n\n### 效能基準\n\n| 任務 | 預期記憶體使用 | 預期處理時間 |\n|------|--------------|------------|\n| 模型載入 | ~8GB | 30-60秒 |\n| 提示詞優化 | ~12GB | 5-15秒/提示 |\n| 批次處理 (n=5) | ~14GB | 20-40秒 |\n\n> **注意**：實際數值可能因系統負載和具體輸入而異\n\n### 已知限制\n\n1. **記憶體限制**：\n   - 同時載入多個大型模型可能導致記憶體不足\n   - 建議一次只載入一個模型進行推理\n\n2. **處理時間**：\n   - 複雜提示詞可能需要更長處理時間\n   - 批次處理時延遲會增加\n\n3. **建議的最佳實踐**：\n   - 實現請求佇列系統\n   - 設定處理超時機制\n   - 定期重啟長時間運行的程序以釋放記憶體\n\n## 最近更新\n\n### 2025-05-28 (最新)\n- 重構提示工程優化架構\n- 實現分層提示詞引擎\n- 新增會議上下文感知模組\n- 設計動態策略管理系統\n- 更新實施路線圖\n\n### 2025-05-27\n- 更新 README 文件，改進文檔結構和內容完整性\n- 修復評估階段文件路徑比對問題\n- 優化模型名稱處理邏輯，支援不同格式的模型名稱\n- 改進評估腳本，可選擇性評估特定模型的結果\n- 更新 `run_optimization.sh` 腳本，確保正確傳遞模型參數\n- 改進錯誤處理和日誌記錄\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-27\n- 新增模型執行時間統計功能\n- 新增策略執行時間統計功能\n- 改進模型名稱處理邏輯\n- 優化錯誤處理和重試機制\n- 添加 `run_all_models.sh` 腳本用於批量運行多個模型\n\n### 2025-05-26\n- 實現模型響應時間追蹤\n- 優化模型調用過程中的錯誤處理\n- 改進重試機制，提高穩定性\n\n### 2025-05-25\n- 修復 `time` 模組導入問題\n- 修正 `model_timings` 和 `strategy_timings` 變數作用域問題\n- 更新評估結果和改進策略\n\n## 授權\n\n本項目採用 [MIT 許可證](LICENSE) 授權。",
          "生成的會議記錄（基於模板和參考文本）:\n好的，以下是根據您的要求，針對會議記錄模板進行的改進版本，重點關注準確性、完整性、清晰度和專業性：\n\n---\n\n**會議記錄模板**\n\n**1. 會議資訊**\n\n*   **會議主題:** {會議主題}\n*   **會議時間:** {YYYY-MM-DD HH:MM - YYYY-MM-DD HH:MM} (例如：2023-10-27 14:30 - 15:30) - *請使用標準時間格式 (ISO 8601 建議格式: YYYY-MM-DDTHH:MM:SSZ) 以確保跨平台兼容性及易於排序。*\n*   **會議地點:** {完整地址} (例如：台北市信義區市府路1號16樓) - *提供完整地址，方便後續追蹤及地理定位。*\n*   **會議類型:** {會議類型} (例如：例行會議、專案會議、決策會議、審查會議、腦力激盪會議) - *請明確指定類型，以便分類和追蹤，並可建立類型分類標準。*\n*   **與會人員:**\n    *   **主持人:** {主持人姓名} - {主持人職稱} - {主持人聯絡方式 (Email/電話)} - *主持人負責維持會議秩序、控制時間、確認決議事項。*\n    *   **記錄員:** {記錄員姓名} - {記錄員職稱} - {記錄員聯絡方式 (Email/電話)} - *記錄員負責記錄會議內容，確保準確性。*\n    *   **其他與會者:** (使用表格或列表，包含姓名、職稱、聯絡方式)\n        | 姓名 | 職稱 | 聯絡方式 (Email/電話) |\n        |---|---|---|\n        |  |  |  |\n        |  |  |  |\n\n**2. 會議摘要**\n\n*   **會議目的:** {簡潔明瞭地描述會議主要目標，例如：審核專案進度、討論新產品策略、解決技術問題} - *使用簡潔的語言，避免冗餘描述，並明確指出會議的最終目標。*\n*   **會議重點:** {一至兩句話精確概括會議核心內容} - *確保重點反映會議實際討論內容，避免主觀臆斷，並可作為後續追蹤的關鍵指標。*\n\n**3. 討論要點**\n\n*   **3.1. 議題一: {議題名稱}**\n    *   **3.1.1. 討論內容:**\n        *   {具體討論點 1} - *使用數據、事實、指標支持討論內容，例如：市場佔有率、用戶增長率、成本分析，並提供數據來源及計算方法。*\n        *   {具體討論點 2} - *明確指出不同觀點、爭論點，並記錄各方提出的論證，並記錄投票結果（如有）。*\n        *   (可根據需要增加更多細節點)\n    *   **3.1.2. 相關資料/證據:** (若有，列出相關文件、數據、圖表等，並提供來源、版本資訊及連結/附件)\n        | 文件名稱 | 來源 | 版本 | 連結/附件 | 關鍵詞/摘要 |\n        |---|---|---|---|---|\n        |  |  |  |  |  |\n        |  |  |  |  |  |\n\n*   **3.n. 議題n: {議題n名稱}** (依議題數量增加)\n\n**4. 決議事項**\n\n*   **4.1. 決議一:** {明確、具體的決議內容，並說明決議的影響範圍} - *使用積極的語氣，避免使用模糊的措辭，並明確指出負責人及截止日期。*\n*   **4.2. 決議二:** {明確、具體的決議內容，並說明決議的影響範圍}\n*   **4.n. 決議n:** {明確、具體的決議內容，並說明決議的影響範圍}\n\n**5. 行動項目 (Action Items)**\n\n| 行動項目編號 | 負責人 | 截止日期 | 相關事項/細節 (包括所需資源和步驟) | 狀態 (未開始、進行中、已完成、延遲) | 優先級 (高、中、低) | 依賴項目 (若有) |\n|---|---|---|---|---|---|---|\n| 1 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：撰寫報告、與團隊溝通、收集數據} |  |  |  |\n| 2 | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：準備演示資料、安排會議、確認預算} |  |  |  |\n| n | {負責人姓名} | {YYYY-MM-DD} | {詳細說明，例如：執行測試、提交方案、更新系統} |  |  |  |\n\n**6. 備註** (可選)\n\n*   (任何其他相關資訊，例如：下次會議安排、未解決的問題、需要跟進的議題、決議事項的後續跟進) - *請明確指出需要誰負責跟進，並提供具體的跟進方案，並記錄跟進方案的狀態。*\n\n---\n\n**重要提示與建議:**\n\n*   **記錄員責任:** 記錄員應在會議中積極記錄，並在會後盡快完成記錄，並確保記錄的準確性和完整性。 記錄員應在會議結束後立即審核記錄，確保所有討論點和決議事項都已記錄。\n*   **會後審核:**  主持人或相關人員應審核記錄的準確性和完整性，並提供修改建議。\n*   **版本控制:**  保存記錄的原始版本，並記錄每次修改的版本號和修改人。\n*   **數位化:**  鼓勵使用數位化工具進行記錄，方便儲存、搜尋和分享。 建議使用雲端儲存服務，以確保資料安全和可訪問性。\n*   **持續改進:**  定期檢討會議記錄模板，並根據實際情況進行調整和完善。 建立標準化的會議記錄流程，並定期進行培訓，以提高記錄員的專業水平。\n\n---\n\n這個模板更注重準確性、可操作性和可追蹤性，並添加了更詳細的說明和建議，以提高會議記錄的品質。  我們增加了“依賴項目”欄位，以幫助追蹤任務之間的關聯性。  希望這個版本能更好地滿足您的需求！\n\n參考:\n# 會議記錄優化工具安裝與使用指南\n\n## 環境要求\n\n- Python 3.8 或更高版本\n- CUDA 11.7 或更高版本（如需 GPU 加速）\n- 至少 16GB 系統記憶體（建議 32GB 或更多）\n- 至少 20GB 可用磁碟空間（用於模型快取）\n\n## 安裝步驟\n\n1. 克隆代碼庫：\n   ```bash\n   git clone <repository-url>\n   cd exam08_提示詞練習重啟\n   ```\n\n2. 創建並啟動虛擬環境（建議）：\n   ```bash\n   python -m venv venv\n   source venv/bin/activate  # Linux/Mac\n   # 或\n   .\\venv\\Scripts\\activate  # Windows\n   ```\n\n3. 安裝依賴：\n   ```bash\n   pip install -r requirements.txt\n   ```\n\n4. 安裝 PyTorch（如需 GPU 支援）：\n   ```bash\n   # 請根據您的 CUDA 版本選擇合適的安裝命令\n   # 例如，CUDA 11.8：\n   pip3 install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118\n   ```\n\n## 下載模型\n\n本工具支援多種語言模型，預設使用 `cwchang/llama3-taide-lx-8b-chat-alpha1_latest`。\n\n首次運行時，工具會自動下載模型（約 15GB）。確保您有足夠的磁碟空間和穩定的網路連接。\n\n## 使用方法\n\n### 1. 優化單個會議記錄\n\n```bash\npython scripts/optimize_meeting_minutes.py path/to/your/meeting.txt\n```\n\n### 2. 批量處理多個會議記錄\n\n```bash\n# 創建輸出目錄\nmkdir -p optimized_meetings\n\n# 處理目錄中的所有 .txt 文件\nfor f in data/meetings/*.txt; do\n    python scripts/optimize_meeting_minutes.py \"$f\" -o optimized_meetings\ndone\n```\n\n### 3. 評估優化效果\n\n```bash\n# 評估單個優化結果\npython scripts/test_optimization.py --test-dir path/to/test/files --output-dir results/evaluation\n\n# 查看評估報告\ncat results/evaluation/optimization_evaluation.json\n```\n\n## 進階選項\n\n### 使用不同的模型\n\n```bash\npython scripts/optimize_meeting_minutes.py meeting.txt --model \"jcai/llama3-taide-lx-8b-chat-alpha1_Q4_K_M\"\n```\n\n### 調整生成長度\n\n```bash\n# 增加生成長度限制\npython scripts/optimize_meeting_minutes.py meeting.txt --max-length 4096\n```\n\n## 疑難排解\n\n### 記憶體不足\n\n如果遇到記憶體不足錯誤，請嘗試：\n\n1. 減少生成長度 (`--max-length`)\n2. 使用較小的模型\n3. 增加系統交換空間\n4. 使用 CPU 模式（不推薦，速度較慢）\n\n### 模型下載問題\n\n如果模型下載失敗：\n\n1. 檢查網路連接\n2. 確保有足夠的磁碟空間\n3. 手動下載模型並指定本地路徑\n\n## 貢獻指南\n\n歡迎提交問題和拉取請求！請確保：\n\n1. 遵循現有的代碼風格\n2. 為新功能添加測試\n3. 更新相關文檔\n\n## 授權\n\n[在此添加授權信息]"
        ]
      },
      "timestamp": "2025-05-28T14:11:42.624246"
    }
  ]
}